<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Comprehensive documentation for Azure Synapse Analytics focusing on Spark Delta Lakehouse and Serverless SQL features"><meta name=author content="Microsoft CSA Team"><link href=https://microsoft.github.io/csa-inabox-docs/best-practices/cost-optimization/ rel=canonical><link href=../security/ rel=prev><link href=../data-governance/ rel=next><link rel=icon href=../../assets/images/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.4.6"><title>Cost Optimization - Azure Synapse Analytics Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.35e1ed30.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.356b1318.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#cost-optimization-best-practices-for-azure-synapse-analytics class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Azure Synapse Analytics Documentation" class="md-header__button md-logo" aria-label="Azure Synapse Analytics Documentation" data-md-component=logo> <img src=../../assets/images/Azure-Synapse-Analytics.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Azure Synapse Analytics Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Cost Optimization </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/fgarofalo56/csa-inabox-docs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> fgarofalo56/csa-inabox-docs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../architecture/ class=md-tabs__link> Architecture </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Best Practices </a> </li> <li class=md-tabs__item> <a href=../../code-examples/ class=md-tabs__link> Code Examples </a> </li> <li class=md-tabs__item> <a href=../../reference/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../faq/ class=md-tabs__link> FAQ </a> </li> <li class=md-tabs__item> <a href=../../troubleshooting/ class=md-tabs__link> Troubleshooting </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Azure Synapse Analytics Documentation" class="md-nav__button md-logo" aria-label="Azure Synapse Analytics Documentation" data-md-component=logo> <img src=../../assets/images/Azure-Synapse-Analytics.png alt=logo> </a> Azure Synapse Analytics Documentation </label> <div class=md-nav__source> <a href=https://github.com/fgarofalo56/csa-inabox-docs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> fgarofalo56/csa-inabox-docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../architecture/ class="md-nav__link "> <span class=md-ellipsis> Architecture </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__container"> <a href=../../architecture/delta-lakehouse/ class="md-nav__link "> <span class=md-ellipsis> Delta Lakehouse </span> </a> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Delta Lakehouse </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__container"> <a href=../../architecture/serverless-sql/ class="md-nav__link "> <span class=md-ellipsis> Serverless SQL </span> </a> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Serverless SQL </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_4> <div class="md-nav__link md-nav__container"> <a href=../../architecture/shared-metadata/ class="md-nav__link "> <span class=md-ellipsis> Shared Metadata </span> </a> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Shared Metadata </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Best Practices </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Best Practices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../performance/ class=md-nav__link> <span class=md-ellipsis> Performance </span> </a> </li> <li class=md-nav__item> <a href=../security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Cost Optimization </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Cost Optimization </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#understanding-synapse-analytics-cost-model class=md-nav__link> Understanding Synapse Analytics Cost Model </a> <nav class=md-nav aria-label="Understanding Synapse Analytics Cost Model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cost-components class=md-nav__link> Cost Components </a> <nav class=md-nav aria-label="Cost Components"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#serverless-sql-pool-costs class=md-nav__link> Serverless SQL Pool Costs </a> </li> <li class=md-nav__item> <a href=#dedicated-sql-pool-costs class=md-nav__link> Dedicated SQL Pool Costs </a> </li> <li class=md-nav__item> <a href=#spark-pool-costs class=md-nav__link> Spark Pool Costs </a> </li> <li class=md-nav__item> <a href=#storage-costs class=md-nav__link> Storage Costs </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#compute-optimization-strategies class=md-nav__link> Compute Optimization Strategies </a> <nav class=md-nav aria-label="Compute Optimization Strategies"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#serverless-sql-pool-optimization class=md-nav__link> Serverless SQL Pool Optimization </a> <nav class=md-nav aria-label="Serverless SQL Pool Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#query-optimization class=md-nav__link> Query Optimization </a> </li> <li class=md-nav__item> <a href=#result-set-caching class=md-nav__link> Result Set Caching </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dedicated-sql-pool-optimization class=md-nav__link> Dedicated SQL Pool Optimization </a> <nav class=md-nav aria-label="Dedicated SQL Pool Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#scale-management class=md-nav__link> Scale Management </a> </li> <li class=md-nav__item> <a href=#resource-classes class=md-nav__link> Resource Classes </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spark-pool-optimization class=md-nav__link> Spark Pool Optimization </a> <nav class=md-nav aria-label="Spark Pool Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#autoscale-configuration class=md-nav__link> Autoscale Configuration </a> </li> <li class=md-nav__item> <a href=#node-selection class=md-nav__link> Node Selection </a> </li> <li class=md-nav__item> <a href=#session-management class=md-nav__link> Session Management </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#storage-optimization-strategies class=md-nav__link> Storage Optimization Strategies </a> <nav class=md-nav aria-label="Storage Optimization Strategies"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-lifecycle-management class=md-nav__link> Data Lifecycle Management </a> <nav class=md-nav aria-label="Data Lifecycle Management"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#storage-tiering class=md-nav__link> Storage Tiering </a> </li> <li class=md-nav__item> <a href=#automated-tiering class=md-nav__link> Automated Tiering </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-storage-optimization class=md-nav__link> Data Storage Optimization </a> <nav class=md-nav aria-label="Data Storage Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#compression-and-file-formats class=md-nav__link> Compression and File Formats </a> </li> <li class=md-nav__item> <a href=#data-cleanup class=md-nav__link> Data Cleanup </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pipeline-optimization class=md-nav__link> Pipeline Optimization </a> <nav class=md-nav aria-label="Pipeline Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#integration-pipeline-costs class=md-nav__link> Integration Pipeline Costs </a> <nav class=md-nav aria-label="Integration Pipeline Costs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#activity-optimization class=md-nav__link> Activity Optimization </a> </li> <li class=md-nav__item> <a href=#monitoring-and-debugging class=md-nav__link> Monitoring and Debugging </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#orchestration-patterns class=md-nav__link> Orchestration Patterns </a> <nav class=md-nav aria-label="Orchestration Patterns"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trigger-optimization class=md-nav__link> Trigger Optimization </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#monitoring-and-analysis class=md-nav__link> Monitoring and Analysis </a> <nav class=md-nav aria-label="Monitoring and Analysis"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cost-monitoring class=md-nav__link> Cost Monitoring </a> <nav class=md-nav aria-label="Cost Monitoring"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#azure-cost-management class=md-nav__link> Azure Cost Management </a> </li> <li class=md-nav__item> <a href=#resource-utilization-analysis class=md-nav__link> Resource Utilization Analysis </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cost-optimization-workflow class=md-nav__link> Cost Optimization Workflow </a> <nav class=md-nav aria-label="Cost Optimization Workflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#regular-review-process class=md-nav__link> Regular Review Process </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#enterprise-strategies class=md-nav__link> Enterprise Strategies </a> <nav class=md-nav aria-label="Enterprise Strategies"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#reserved-instances class=md-nav__link> Reserved Instances </a> <nav class=md-nav aria-label="Reserved Instances"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#azure-reservations class=md-nav__link> Azure Reservations </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#enterprise-agreement-benefits class=md-nav__link> Enterprise Agreement Benefits </a> <nav class=md-nav aria-label="Enterprise Agreement Benefits"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ea-optimization class=md-nav__link> EA Optimization </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> Conclusion </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../data-governance/ class=md-nav__link> <span class=md-ellipsis> Data Governance </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../code-examples/ class="md-nav__link "> <span class=md-ellipsis> Code Examples </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Code Examples </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../reference/ class="md-nav__link "> <span class=md-ellipsis> Reference </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#understanding-synapse-analytics-cost-model class=md-nav__link> Understanding Synapse Analytics Cost Model </a> <nav class=md-nav aria-label="Understanding Synapse Analytics Cost Model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cost-components class=md-nav__link> Cost Components </a> <nav class=md-nav aria-label="Cost Components"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#serverless-sql-pool-costs class=md-nav__link> Serverless SQL Pool Costs </a> </li> <li class=md-nav__item> <a href=#dedicated-sql-pool-costs class=md-nav__link> Dedicated SQL Pool Costs </a> </li> <li class=md-nav__item> <a href=#spark-pool-costs class=md-nav__link> Spark Pool Costs </a> </li> <li class=md-nav__item> <a href=#storage-costs class=md-nav__link> Storage Costs </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#compute-optimization-strategies class=md-nav__link> Compute Optimization Strategies </a> <nav class=md-nav aria-label="Compute Optimization Strategies"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#serverless-sql-pool-optimization class=md-nav__link> Serverless SQL Pool Optimization </a> <nav class=md-nav aria-label="Serverless SQL Pool Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#query-optimization class=md-nav__link> Query Optimization </a> </li> <li class=md-nav__item> <a href=#result-set-caching class=md-nav__link> Result Set Caching </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dedicated-sql-pool-optimization class=md-nav__link> Dedicated SQL Pool Optimization </a> <nav class=md-nav aria-label="Dedicated SQL Pool Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#scale-management class=md-nav__link> Scale Management </a> </li> <li class=md-nav__item> <a href=#resource-classes class=md-nav__link> Resource Classes </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#spark-pool-optimization class=md-nav__link> Spark Pool Optimization </a> <nav class=md-nav aria-label="Spark Pool Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#autoscale-configuration class=md-nav__link> Autoscale Configuration </a> </li> <li class=md-nav__item> <a href=#node-selection class=md-nav__link> Node Selection </a> </li> <li class=md-nav__item> <a href=#session-management class=md-nav__link> Session Management </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#storage-optimization-strategies class=md-nav__link> Storage Optimization Strategies </a> <nav class=md-nav aria-label="Storage Optimization Strategies"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-lifecycle-management class=md-nav__link> Data Lifecycle Management </a> <nav class=md-nav aria-label="Data Lifecycle Management"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#storage-tiering class=md-nav__link> Storage Tiering </a> </li> <li class=md-nav__item> <a href=#automated-tiering class=md-nav__link> Automated Tiering </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-storage-optimization class=md-nav__link> Data Storage Optimization </a> <nav class=md-nav aria-label="Data Storage Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#compression-and-file-formats class=md-nav__link> Compression and File Formats </a> </li> <li class=md-nav__item> <a href=#data-cleanup class=md-nav__link> Data Cleanup </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pipeline-optimization class=md-nav__link> Pipeline Optimization </a> <nav class=md-nav aria-label="Pipeline Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#integration-pipeline-costs class=md-nav__link> Integration Pipeline Costs </a> <nav class=md-nav aria-label="Integration Pipeline Costs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#activity-optimization class=md-nav__link> Activity Optimization </a> </li> <li class=md-nav__item> <a href=#monitoring-and-debugging class=md-nav__link> Monitoring and Debugging </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#orchestration-patterns class=md-nav__link> Orchestration Patterns </a> <nav class=md-nav aria-label="Orchestration Patterns"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#trigger-optimization class=md-nav__link> Trigger Optimization </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#monitoring-and-analysis class=md-nav__link> Monitoring and Analysis </a> <nav class=md-nav aria-label="Monitoring and Analysis"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cost-monitoring class=md-nav__link> Cost Monitoring </a> <nav class=md-nav aria-label="Cost Monitoring"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#azure-cost-management class=md-nav__link> Azure Cost Management </a> </li> <li class=md-nav__item> <a href=#resource-utilization-analysis class=md-nav__link> Resource Utilization Analysis </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cost-optimization-workflow class=md-nav__link> Cost Optimization Workflow </a> <nav class=md-nav aria-label="Cost Optimization Workflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#regular-review-process class=md-nav__link> Regular Review Process </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#enterprise-strategies class=md-nav__link> Enterprise Strategies </a> <nav class=md-nav aria-label="Enterprise Strategies"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#reserved-instances class=md-nav__link> Reserved Instances </a> <nav class=md-nav aria-label="Reserved Instances"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#azure-reservations class=md-nav__link> Azure Reservations </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#enterprise-agreement-benefits class=md-nav__link> Enterprise Agreement Benefits </a> <nav class=md-nav aria-label="Enterprise Agreement Benefits"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ea-optimization class=md-nav__link> EA Optimization </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> Conclusion </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <p><a href=/README.md>Home</a> &gt; <a href=../ >Best Practices</a> &gt; Cost Optimization</p> <h1 id=cost-optimization-best-practices-for-azure-synapse-analytics>Cost Optimization Best Practices for Azure Synapse Analytics<a class=headerlink href=#cost-optimization-best-practices-for-azure-synapse-analytics title="Permanent link">&para;</a></h1> <h2 id=understanding-synapse-analytics-cost-model>Understanding Synapse Analytics Cost Model<a class=headerlink href=#understanding-synapse-analytics-cost-model title="Permanent link">&para;</a></h2> <h3 id=cost-components>Cost Components<a class=headerlink href=#cost-components title="Permanent link">&para;</a></h3> <h4 id=serverless-sql-pool-costs>Serverless SQL Pool Costs<a class=headerlink href=#serverless-sql-pool-costs title="Permanent link">&para;</a></h4> <ul> <li><strong>Data Scanning</strong>: Charged per TB of data processed</li> <li><strong>Result Caching</strong>: No charge for subsequent queries using cached results</li> <li><strong>Resource Management</strong>: No charge when idle (pay-per-query model)</li> </ul> <h4 id=dedicated-sql-pool-costs>Dedicated SQL Pool Costs<a class=headerlink href=#dedicated-sql-pool-costs title="Permanent link">&para;</a></h4> <ul> <li><strong>Compute Costs</strong>: Based on Data Warehouse Units (DWU) and time running</li> <li><strong>Storage Costs</strong>: Based on volume of data stored in the dedicated pool</li> <li><strong>Data Movement</strong>: Included in compute costs</li> </ul> <h4 id=spark-pool-costs>Spark Pool Costs<a class=headerlink href=#spark-pool-costs title="Permanent link">&para;</a></h4> <ul> <li><strong>Compute Costs</strong>: Based on vCore-hours consumed</li> <li><strong>Autoscale Impact</strong>: Costs vary based on actual usage with autoscale</li> <li><strong>Node Types</strong>: Different costs for different node types (memory-optimized vs. compute-optimized)</li> </ul> <h4 id=storage-costs>Storage Costs<a class=headerlink href=#storage-costs title="Permanent link">&para;</a></h4> <ul> <li><strong>ADLS Gen2 Storage</strong>: Based on volume of data and storage tier (hot/cool/archive)</li> <li><strong>Transaction Costs</strong>: Based on number and type of storage operations</li> </ul> <h2 id=compute-optimization-strategies>Compute Optimization Strategies<a class=headerlink href=#compute-optimization-strategies title="Permanent link">&para;</a></h2> <h3 id=serverless-sql-pool-optimization>Serverless SQL Pool Optimization<a class=headerlink href=#serverless-sql-pool-optimization title="Permanent link">&para;</a></h3> <h4 id=query-optimization>Query Optimization<a class=headerlink href=#query-optimization title="Permanent link">&para;</a></h4> <ul> <li> <p><strong>Minimize Data Scanning</strong>: Prune data aggressively <div class="language-sql highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1>-- Good: Scans less data with partition filtering</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>external_table</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=k>WHERE</span><span class=w> </span><span class=n>year_partition</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2025</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=n>month_partition</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=c1>-- Avoid: Full scan across all partitions</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>external_table</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=k>WHERE</span><span class=w> </span><span class=k>YEAR</span><span class=p>(</span><span class=n>transaction_date</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2025</span><span class=w> </span><span class=k>AND</span><span class=w> </span><span class=k>MONTH</span><span class=p>(</span><span class=n>transaction_date</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span></code></pre></div></p> </li> <li> <p><strong>Use Appropriate File Formats</strong>: Prefer columnar formats (Parquet, ORC) over row-based formats (CSV, JSON) <div class="language-sql highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1>-- Create external file format for Parquet</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=k>CREATE</span><span class=w> </span><span class=k>EXTERNAL</span><span class=w> </span><span class=n>FILE</span><span class=w> </span><span class=n>FORMAT</span><span class=w> </span><span class=n>ParquetFormat</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=k>WITH</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=n>FORMAT_TYPE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>PARQUET</span><span class=p>,</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>    </span><span class=n>DATA_COMPRESSION</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;SNAPPY&#39;</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=p>);</span>
</span></code></pre></div></p> </li> <li> <p><strong>Statistics</strong>: Create statistics on frequently filtered columns <div class="language-sql highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1>-- Create statistics for better query plans</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>CREATE</span><span class=w> </span><span class=k>STATISTICS</span><span class=w> </span><span class=n>stats_year</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>external_table</span><span class=p>(</span><span class=n>year_column</span><span class=p>);</span>
</span></code></pre></div></p> </li> </ul> <h4 id=result-set-caching>Result Set Caching<a class=headerlink href=#result-set-caching title="Permanent link">&para;</a></h4> <ul> <li> <p><strong>Enable Result Set Caching</strong>: Reuse query results for identical queries <div class="language-sql highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1>-- Enable result set caching at database level</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=k>ALTER</span><span class=w> </span><span class=k>DATABASE</span><span class=w> </span><span class=n>MyDatabase</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=k>SET</span><span class=w> </span><span class=n>RESULT_SET_CACHING</span><span class=w> </span><span class=k>ON</span><span class=p>;</span>
</span></code></pre></div></p> </li> <li> <p><strong>Parameterize Queries</strong>: Use parameterized queries to maximize cache hits</p> </li> </ul> <h3 id=dedicated-sql-pool-optimization>Dedicated SQL Pool Optimization<a class=headerlink href=#dedicated-sql-pool-optimization title="Permanent link">&para;</a></h3> <h4 id=scale-management>Scale Management<a class=headerlink href=#scale-management title="Permanent link">&para;</a></h4> <ul> <li> <p><strong>Implement Automated Scaling</strong>: Scale up/down based on workload patterns <div class="language-powershell highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c># Scale DW based on schedule</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=nv>$startTime</span> <span class=p>=</span> <span class=p>(</span><span class=nb>Get-Date</span><span class=p>).</span><span class=n>AddHours</span><span class=p>(</span><span class=n>1</span><span class=p>)</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=nv>$timeZone</span> <span class=p>=</span> <span class=no>[System.TimeZoneInfo]</span><span class=p>::</span><span class=n>Local</span><span class=p>.</span><span class=n>Id</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=nv>$schedule</span> <span class=p>=</span> <span class=nb>New-AzSynapseWorkspaceManagedSchedule</span> <span class=n>-DayOfWeek</span> <span class=n>Monday</span><span class=p>,</span> <span class=n>Tuesday</span><span class=p>,</span> <span class=n>Wednesday</span><span class=p>,</span> <span class=n>Thursday</span><span class=p>,</span> <span class=n>Friday</span> <span class=n>-Time</span> <span class=s2>&quot;08:00&quot;</span> <span class=n>-TimeZone</span> <span class=nv>$timeZone</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=nb>New-AzSynapseSqlPoolWorkloadManagement</span> <span class=n>-WorkspaceName</span> <span class=nv>$workspaceName</span> <span class=n>-SqlPoolName</span> <span class=nv>$sqlPoolName</span> <span class=n>-DwuValue</span> <span class=n>1000</span> <span class=n>-Schedule</span> <span class=nv>$schedule</span>
</span></code></pre></div></p> </li> <li> <p><strong>Pause During Inactivity</strong>: Automatically pause during non-business hours <div class="language-powershell highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c># Pause SQL pool</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=nb>Suspend-AzSynapseSqlPool</span> <span class=n>-WorkspaceName</span> <span class=nv>$workspaceName</span> <span class=n>-Name</span> <span class=nv>$sqlPoolName</span>
</span></code></pre></div></p> </li> </ul> <h4 id=resource-classes>Resource Classes<a class=headerlink href=#resource-classes title="Permanent link">&para;</a></h4> <ul> <li><strong>Optimize Resource Classes</strong>: Use smaller resource classes for simple queries <div class="language-sql highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1>-- Assign smaller resource class for simple queries</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=k>EXEC</span><span class=w> </span><span class=n>sp_addrolemember</span><span class=w> </span><span class=s1>&#39;smallrc&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;username&#39;</span><span class=p>;</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=c1>-- Assign larger resource class for complex queries</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=k>EXEC</span><span class=w> </span><span class=n>sp_addrolemember</span><span class=w> </span><span class=s1>&#39;largerc&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;username&#39;</span><span class=p>;</span>
</span></code></pre></div></li> </ul> <h3 id=spark-pool-optimization>Spark Pool Optimization<a class=headerlink href=#spark-pool-optimization title="Permanent link">&para;</a></h3> <h4 id=autoscale-configuration>Autoscale Configuration<a class=headerlink href=#autoscale-configuration title="Permanent link">&para;</a></h4> <ul> <li> <p><strong>Right-Size Min/Max Nodes</strong>: Configure appropriate autoscale range <div class="language-json highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=p>{</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;optimizedSparkPool&quot;</span><span class=p>,</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>  </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>    </span><span class=nt>&quot;nodeSize&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Small&quot;</span><span class=p>,</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>    </span><span class=nt>&quot;nodeSizeFamily&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MemoryOptimized&quot;</span><span class=p>,</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>    </span><span class=nt>&quot;autoScale&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>      </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>      </span><span class=nt>&quot;minNodeCount&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>3</span><span class=p>,</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>      </span><span class=nt>&quot;maxNodeCount&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>10</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=p>}</span>
</span></code></pre></div></p> </li> <li> <p><strong>Session-Level Configuration</strong>: Only request resources needed for each job <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1># Configure Spark session with appropriate resources</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=n>spark</span><span class=o>.</span><span class=n>conf</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&quot;spark.executor.instances&quot;</span><span class=p>,</span> <span class=s2>&quot;4&quot;</span><span class=p>)</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=n>spark</span><span class=o>.</span><span class=n>conf</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&quot;spark.executor.memory&quot;</span><span class=p>,</span> <span class=s2>&quot;4g&quot;</span><span class=p>)</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=n>spark</span><span class=o>.</span><span class=n>conf</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&quot;spark.executor.cores&quot;</span><span class=p>,</span> <span class=s2>&quot;2&quot;</span><span class=p>)</span>
</span></code></pre></div></p> </li> </ul> <h4 id=node-selection>Node Selection<a class=headerlink href=#node-selection title="Permanent link">&para;</a></h4> <ul> <li><strong>Use Appropriate Node Types</strong>: Select based on workload characteristics</li> <li>Memory-optimized for ML and large joins</li> <li> <p>Compute-optimized for ETL and data processing</p> </li> <li> <p><strong>Consider Job Requirements</strong>: Match node size to job requirements</p> </li> </ul> <h4 id=session-management>Session Management<a class=headerlink href=#session-management title="Permanent link">&para;</a></h4> <ul> <li><strong>Session Timeout</strong>: Configure appropriate timeout to release resources <div class="language-json highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=p>{</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;optimizedSparkPool&quot;</span><span class=p>,</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>  </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>    </span><span class=nt>&quot;sessionLevelPackages&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[],</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>    </span><span class=nt>&quot;sparkConfigProperties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>    </span><span class=nt>&quot;nodeSize&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Small&quot;</span><span class=p>,</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=w>    </span><span class=nt>&quot;nodeSizeFamily&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MemoryOptimized&quot;</span><span class=p>,</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=w>    </span><span class=nt>&quot;sessionLevelPackages&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[],</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=w>    </span><span class=nt>&quot;customLibraries&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[],</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=w>    </span><span class=nt>&quot;sparkEventsFolder&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/events&quot;</span><span class=p>,</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=w>    </span><span class=nt>&quot;autoScale&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=w>      </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=w>      </span><span class=nt>&quot;minNodeCount&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>3</span><span class=p>,</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a><span class=w>      </span><span class=nt>&quot;maxNodeCount&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>10</span>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a><span class=w>    </span><span class=nt>&quot;isComputeIsolationEnabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a><span class=w>    </span><span class=nt>&quot;sessionProperties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a><span class=w>      </span><span class=nt>&quot;driverSize&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Small&quot;</span><span class=p>,</span>
</span><span id=__span-9-19><a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a><span class=w>      </span><span class=nt>&quot;executorSize&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Small&quot;</span><span class=p>,</span>
</span><span id=__span-9-20><a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a><span class=w>      </span><span class=nt>&quot;executorCount&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>2</span>
</span><span id=__span-9-21><a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-9-22><a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a><span class=w>    </span><span class=nt>&quot;defaultSparkLogFolder&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/logs&quot;</span><span class=p>,</span>
</span><span id=__span-9-23><a id=__codelineno-9-23 name=__codelineno-9-23 href=#__codelineno-9-23></a><span class=w>    </span><span class=nt>&quot;nodeCount&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-9-24><a id=__codelineno-9-24 name=__codelineno-9-24 href=#__codelineno-9-24></a><span class=w>    </span><span class=nt>&quot;dynamicExecutorAllocation&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-25><a id=__codelineno-9-25 name=__codelineno-9-25 href=#__codelineno-9-25></a><span class=w>      </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-9-26><a id=__codelineno-9-26 name=__codelineno-9-26 href=#__codelineno-9-26></a><span class=w>      </span><span class=nt>&quot;minExecutors&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=p>,</span>
</span><span id=__span-9-27><a id=__codelineno-9-27 name=__codelineno-9-27 href=#__codelineno-9-27></a><span class=w>      </span><span class=nt>&quot;maxExecutors&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>5</span>
</span><span id=__span-9-28><a id=__codelineno-9-28 name=__codelineno-9-28 href=#__codelineno-9-28></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-9-29><a id=__codelineno-9-29 name=__codelineno-9-29 href=#__codelineno-9-29></a><span class=w>    </span><span class=nt>&quot;coordinatorSize&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Small&quot;</span><span class=p>,</span>
</span><span id=__span-9-30><a id=__codelineno-9-30 name=__codelineno-9-30 href=#__codelineno-9-30></a><span class=w>    </span><span class=nt>&quot;provisioningState&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Succeeded&quot;</span>
</span><span id=__span-9-31><a id=__codelineno-9-31 name=__codelineno-9-31 href=#__codelineno-9-31></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-9-32><a id=__codelineno-9-32 name=__codelineno-9-32 href=#__codelineno-9-32></a><span class=p>}</span>
</span></code></pre></div></li> </ul> <h2 id=storage-optimization-strategies>Storage Optimization Strategies<a class=headerlink href=#storage-optimization-strategies title="Permanent link">&para;</a></h2> <h3 id=data-lifecycle-management>Data Lifecycle Management<a class=headerlink href=#data-lifecycle-management title="Permanent link">&para;</a></h3> <h4 id=storage-tiering>Storage Tiering<a class=headerlink href=#storage-tiering title="Permanent link">&para;</a></h4> <ul> <li><strong>Hot Storage</strong>: Use for frequently accessed data (last 30-90 days)</li> <li><strong>Cool Storage</strong>: Use for infrequently accessed data (older than 90 days)</li> <li><strong>Archive Storage</strong>: Use for rarely accessed data (compliance/historical)</li> </ul> <h4 id=automated-tiering>Automated Tiering<a class=headerlink href=#automated-tiering title="Permanent link">&para;</a></h4> <ul> <li><strong>Lifecycle Management Policies</strong>: Configure to automatically move data between tiers <div class="language-json highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=p>{</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=w>  </span><span class=nt>&quot;rules&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>      </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=w>      </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;MoveToCoolTier&quot;</span><span class=p>,</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>      </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Lifecycle&quot;</span><span class=p>,</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=w>      </span><span class=nt>&quot;definition&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=w>        </span><span class=nt>&quot;filters&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=w>          </span><span class=nt>&quot;blobTypes&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=s2>&quot;blockBlob&quot;</span><span class=w> </span><span class=p>],</span>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=w>          </span><span class=nt>&quot;prefixMatch&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w> </span><span class=s2>&quot;data/historical/&quot;</span><span class=w> </span><span class=p>]</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=w>        </span><span class=p>},</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=w>        </span><span class=nt>&quot;actions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=w>          </span><span class=nt>&quot;baseBlob&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a><span class=w>            </span><span class=nt>&quot;tierToCool&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nt>&quot;daysAfterModificationGreaterThan&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>90</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=w>          </span><span class=p>}</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-10-17><a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-10-18><a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-10-19><a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a><span class=w>  </span><span class=p>]</span>
</span><span id=__span-10-20><a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a><span class=p>}</span>
</span></code></pre></div></li> </ul> <h3 id=data-storage-optimization>Data Storage Optimization<a class=headerlink href=#data-storage-optimization title="Permanent link">&para;</a></h3> <h4 id=compression-and-file-formats>Compression and File Formats<a class=headerlink href=#compression-and-file-formats title="Permanent link">&para;</a></h4> <ul> <li> <p><strong>Use Compression</strong>: Prefer columnar formats with compression <div class="language-python highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=c1># Write with compression</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=n>df</span><span class=o>.</span><span class=n>write</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s2>&quot;parquet&quot;</span><span class=p>)</span> \
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>    <span class=o>.</span><span class=n>option</span><span class=p>(</span><span class=s2>&quot;compression&quot;</span><span class=p>,</span> <span class=s2>&quot;snappy&quot;</span><span class=p>)</span> \
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>    <span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=s2>&quot;/path/to/data&quot;</span><span class=p>)</span>
</span></code></pre></div></p> </li> <li> <p><strong>Optimize File Sizes</strong>: Target 100MB-1GB per file <div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1># Control Parquet file size</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=n>spark</span><span class=o>.</span><span class=n>conf</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&quot;spark.sql.files.maxPartitionBytes&quot;</span><span class=p>,</span> <span class=mi>134217728</span><span class=p>)</span>  <span class=c1># 128 MB</span>
</span></code></pre></div></p> </li> </ul> <h4 id=data-cleanup>Data Cleanup<a class=headerlink href=#data-cleanup title="Permanent link">&para;</a></h4> <ul> <li><strong>Remove Duplicate Data</strong>: Deduplicate data where possible</li> <li> <p><strong>Regular Vacuum</strong>: Clean up stale files in Delta tables <div class="language-sql highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1>-- Remove files no longer needed by the table</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=k>VACUUM</span><span class=w> </span><span class=n>delta_table</span><span class=w> </span><span class=n>RETAIN</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=n>DAYS</span>
</span></code></pre></div></p> </li> <li> <p><strong>Temporary Data Management</strong>: Remove temporary datasets after use</p> </li> </ul> <h2 id=pipeline-optimization>Pipeline Optimization<a class=headerlink href=#pipeline-optimization title="Permanent link">&para;</a></h2> <h3 id=integration-pipeline-costs>Integration Pipeline Costs<a class=headerlink href=#integration-pipeline-costs title="Permanent link">&para;</a></h3> <h4 id=activity-optimization>Activity Optimization<a class=headerlink href=#activity-optimization title="Permanent link">&para;</a></h4> <ul> <li><strong>Combine Activities</strong>: Reduce activity runs by combining related operations</li> <li><strong>Use Appropriate Integration Runtime</strong>: Match the IR to the workload requirements</li> <li><strong>Optimize Copy Activity</strong>: Configure appropriate compute size for data movement</li> </ul> <h4 id=monitoring-and-debugging>Monitoring and Debugging<a class=headerlink href=#monitoring-and-debugging title="Permanent link">&para;</a></h4> <ul> <li><strong>Limit Debug Runs</strong>: Use debug runs sparingly</li> <li><strong>Optimize Logging</strong>: Implement appropriate logging levels</li> <li><strong>Use Activity Constraints</strong>: Set appropriate timeouts and retry policies</li> </ul> <h3 id=orchestration-patterns>Orchestration Patterns<a class=headerlink href=#orchestration-patterns title="Permanent link">&para;</a></h3> <h4 id=trigger-optimization>Trigger Optimization<a class=headerlink href=#trigger-optimization title="Permanent link">&para;</a></h4> <ul> <li><strong>Batch Related Activities</strong>: Trigger multiple related activities together</li> <li><strong>Use Event-Based Triggers</strong>: Trigger only when needed, rather than on schedule</li> </ul> <h2 id=monitoring-and-analysis>Monitoring and Analysis<a class=headerlink href=#monitoring-and-analysis title="Permanent link">&para;</a></h2> <h3 id=cost-monitoring>Cost Monitoring<a class=headerlink href=#cost-monitoring title="Permanent link">&para;</a></h3> <h4 id=azure-cost-management>Azure Cost Management<a class=headerlink href=#azure-cost-management title="Permanent link">&para;</a></h4> <ul> <li> <p><strong>Budget Alerts</strong>: Set up alerts for cost thresholds <div class="language-powershell highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c># Create budget with alert</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=nb>New-AzConsumptionBudget</span> <span class=n>-Name</span> <span class=s2>&quot;SynapseMonthlyBudget&quot;</span> <span class=p>`</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>    <span class=n>-Amount</span> <span class=n>1000</span> <span class=p>`</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>    <span class=n>-Category</span> <span class=s2>&quot;Cost&quot;</span> <span class=p>`</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>    <span class=n>-TimeGrain</span> <span class=s2>&quot;Monthly&quot;</span> <span class=p>`</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>    <span class=n>-StartDate</span> <span class=p>(</span><span class=nb>Get-Date</span><span class=p>)</span> <span class=p>`</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>    <span class=n>-EndDate</span> <span class=p>(</span><span class=nb>Get-Date</span><span class=p>).</span><span class=n>AddYears</span><span class=p>(</span><span class=n>1</span><span class=p>)</span> <span class=p>`</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>    <span class=n>-ContactEmail</span> <span class=p>@(</span><span class=s2>&quot;user@contoso.com&quot;</span><span class=p>)</span>
</span></code></pre></div></p> </li> <li> <p><strong>Cost Analysis</strong>: Regularly analyze costs by service, resource, and tag</p> </li> <li><strong>Tag Resources</strong>: Implement consistent tagging for cost allocation <div class="language-json highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=p>{</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=w>  </span><span class=nt>&quot;tags&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=w>    </span><span class=nt>&quot;Environment&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Production&quot;</span><span class=p>,</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=w>    </span><span class=nt>&quot;Department&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Finance&quot;</span><span class=p>,</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=w>    </span><span class=nt>&quot;Project&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;DataWarehouse&quot;</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=p>}</span>
</span></code></pre></div></li> </ul> <h4 id=resource-utilization-analysis>Resource Utilization Analysis<a class=headerlink href=#resource-utilization-analysis title="Permanent link">&para;</a></h4> <ul> <li><strong>Monitor Usage Patterns</strong>: Track usage to identify optimization opportunities</li> <li><strong>Identify Idle Resources</strong>: Find and address underutilized resources</li> <li><strong>Workload Analysis</strong>: Understand peak vs. average requirements</li> </ul> <h3 id=cost-optimization-workflow>Cost Optimization Workflow<a class=headerlink href=#cost-optimization-workflow title="Permanent link">&para;</a></h3> <h4 id=regular-review-process>Regular Review Process<a class=headerlink href=#regular-review-process title="Permanent link">&para;</a></h4> <ul> <li><strong>Monthly Cost Review</strong>: Schedule regular cost review meetings</li> <li><strong>Cost Optimization Backlog</strong>: Maintain a backlog of optimization opportunities</li> <li><strong>ROI Analysis</strong>: Prioritize optimization efforts by potential savings</li> </ul> <h2 id=enterprise-strategies>Enterprise Strategies<a class=headerlink href=#enterprise-strategies title="Permanent link">&para;</a></h2> <h3 id=reserved-instances>Reserved Instances<a class=headerlink href=#reserved-instances title="Permanent link">&para;</a></h3> <h4 id=azure-reservations>Azure Reservations<a class=headerlink href=#azure-reservations title="Permanent link">&para;</a></h4> <ul> <li><strong>Reserved Capacity</strong>: Consider 1-year or 3-year reservations for stable workloads</li> <li><strong>Reservation Scope</strong>: Choose appropriate scope (subscription or resource group)</li> <li><strong>Mixed Approach</strong>: Use reserved instances for baseline and pay-as-you-go for variable workloads</li> </ul> <h3 id=enterprise-agreement-benefits>Enterprise Agreement Benefits<a class=headerlink href=#enterprise-agreement-benefits title="Permanent link">&para;</a></h3> <h4 id=ea-optimization>EA Optimization<a class=headerlink href=#ea-optimization title="Permanent link">&para;</a></h4> <ul> <li><strong>Leverage EA Pricing</strong>: Utilize enterprise agreement discounts</li> <li><strong>Azure Hybrid Benefit</strong>: Apply for eligible workloads</li> <li><strong>Enterprise Dev/Test Subscription</strong>: Use for non-production environments</li> </ul> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>Cost optimization in Azure Synapse Analytics requires a multi-faceted approach across compute, storage, and operational aspects. By implementing these best practices, organizations can achieve significant cost savings while maintaining performance and meeting business requirements.</p> <p>Remember that cost optimization is an ongoing process that should be integrated into your regular operational rhythms. Regular monitoring, analysis, and adjustment of your optimization strategies will ensure continued cost efficiency as your workloads evolve.</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 Microsoft </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/fgarofalo56/csa-inabox-docs target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://azure.microsoft.com/en-us/services/synapse-analytics/ target=_blank rel=noopener title=azure.microsoft.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 32h214.6v214.6H0V32zm233.4 0H448v214.6H233.4V32zM0 265.4h214.6V480H0V265.4zm233.4 0H448V480H233.4V265.4z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "search.highlight", "search.share", "search.suggest", "content.tabs.link", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.aecac24b.min.js></script> </body> </html>