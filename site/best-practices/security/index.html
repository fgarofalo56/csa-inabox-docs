<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Enterprise security framework for Azure Synapse Analytics"><meta name=author content="Security Team"><link href=https://microsoft.github.io/csa-inabox-docs/best-practices/security/ rel=canonical><link href=../pipeline-optimization/ rel=prev><link href=../serverless-sql-best-practices/ rel=next><link rel=icon href=../../assets/images/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.4.6"><title>Security Best Practices for Azure Synapse Analytics - Cloud Scale Analytics Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.35e1ed30.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.356b1318.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-XXXXXXXXXX"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-XXXXXXXXXX",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#security-best-practices-for-azure-synapse-analytics class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Cloud Scale Analytics Documentation" class="md-header__button md-logo" aria-label="Cloud Scale Analytics Documentation" data-md-component=logo> <img src=../../assets/images/Azure-Synapse-Analytics.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Cloud Scale Analytics Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Security Best Practices for Azure Synapse Analytics </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/fgarofalo56/csa-inabox-docs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> fgarofalo56/csa-inabox-docs </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../01-overview/ class=md-tabs__link> Overview </a> </li> <li class=md-tabs__item> <a href=../../02-services/ class=md-tabs__link> Services </a> </li> <li class=md-tabs__item> <a href=../../03-architecture-patterns/ class=md-tabs__link> Architecture Patterns </a> </li> <li class=md-tabs__item> <a href=../../tutorials/ class=md-tabs__link> Tutorials </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> Best Practices </a> </li> <li class=md-tabs__item> <a href=../../security/ class=md-tabs__link> Security </a> </li> <li class=md-tabs__item> <a href=../../reference/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../troubleshooting/ class=md-tabs__link> Troubleshooting </a> </li> <li class=md-tabs__item> <a href=../../code-examples/ class=md-tabs__link> Code Examples </a> </li> <li class=md-tabs__item> <a href=../../solutions/ class=md-tabs__link> Solutions </a> </li> <li class=md-tabs__item> <a href=../../guides/ class=md-tabs__link> Guides </a> </li> <li class=md-tabs__item> <a href=../../faq/ class=md-tabs__link> Additional Resources </a> </li> <li class=md-tabs__item> <a href=../../architecture/ class=md-tabs__link> Legacy Documentation </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Cloud Scale Analytics Documentation" class="md-nav__button md-logo" aria-label="Cloud Scale Analytics Documentation" data-md-component=logo> <img src=../../assets/images/Azure-Synapse-Analytics.png alt=logo> </a> Cloud Scale Analytics Documentation </label> <div class=md-nav__source> <a href=https://github.com/fgarofalo56/csa-inabox-docs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> fgarofalo56/csa-inabox-docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-status md-status--Active"></span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../01-overview/ class="md-nav__link "> <span class=md-ellipsis> Overview </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Overview </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../01-overview/service-catalog/ class=md-nav__link> <span class=md-ellipsis> Service Catalog </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../../02-services/ class="md-nav__link "> <span class=md-ellipsis> Services </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__container"> <a href=../../02-services/analytics-compute/ class="md-nav__link "> <span class=md-ellipsis> Analytics Compute </span> </a> <label class="md-nav__link " for=__nav_3_2 id=__nav_3_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Analytics Compute </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2> <div class="md-nav__link md-nav__container"> <a href=../../02-services/analytics-compute/azure-synapse/ class="md-nav__link "> <span class=md-ellipsis> Azure Synapse Analytics </span> </a> <label class="md-nav__link " for=__nav_3_2_2 id=__nav_3_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> Azure Synapse Analytics </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2_2> <div class="md-nav__link md-nav__container"> <a href=../../02-services/analytics-compute/azure-synapse/spark-pools/ class="md-nav__link "> <span class=md-ellipsis> Spark Pools </span> </a> <label class="md-nav__link " for=__nav_3_2_2_2 id=__nav_3_2_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2_2> <span class="md-nav__icon md-icon"></span> Spark Pools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../02-services/analytics-compute/azure-synapse/spark-pools/delta-lakehouse/ class=md-nav__link> <span class=md-ellipsis> Delta Lakehouse </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__container"> <a href=../../02-services/streaming-services/ class="md-nav__link "> <span class=md-ellipsis> Streaming Services </span> </a> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Streaming Services </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../../03-architecture-patterns/ class="md-nav__link "> <span class=md-ellipsis> Architecture Patterns </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Architecture Patterns </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../tutorials/ class="md-nav__link "> <span class=md-ellipsis> Tutorials </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorials/interactive-data-pipeline/ class=md-nav__link> <span class=md-ellipsis> Interactive Data Pipeline </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/synapse/ class=md-nav__link> <span class=md-ellipsis> Synapse Tutorials </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/stream-analytics/ class=md-nav__link> <span class=md-ellipsis> Stream Analytics </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/data-factory/ class=md-nav__link> <span class=md-ellipsis> Data Factory </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/integration/ class=md-nav__link> <span class=md-ellipsis> Integration </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/code-labs/ class=md-nav__link> <span class=md-ellipsis> Code Labs </span> </a> </li> <li class=md-nav__item> <a href=../../tutorials/learning-paths/ class=md-nav__link> <span class=md-ellipsis> Learning Paths </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> Best Practices </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=true> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Best Practices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cost-optimization/ class=md-nav__link> <span class=md-ellipsis> Cost Optimization </span> </a> </li> <li class=md-nav__item> <a href=../data-governance/ class=md-nav__link> <span class=md-ellipsis> Data Governance </span> </a> </li> <li class=md-nav__item> <a href=../delta-lake-optimization/ class=md-nav__link> <span class=md-ellipsis> Delta Lake Optimization </span> </a> </li> <li class=md-nav__item> <a href=../implementation-patterns/ class=md-nav__link> <span class=md-ellipsis> Implementation Patterns </span> </a> </li> <li class=md-nav__item> <a href=../network-security/ class=md-nav__link> <span class=md-ellipsis> Network Security </span> </a> </li> <li class=md-nav__item> <a href=../performance/ class=md-nav__link> <span class=md-ellipsis> Performance </span> </a> </li> <li class=md-nav__item> <a href=../performance-optimization/ class=md-nav__link> <span class=md-ellipsis> Performance Optimization </span> </a> </li> <li class=md-nav__item> <a href=../pipeline-optimization/ class=md-nav__link> <span class=md-ellipsis> Pipeline Optimization </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Security </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#identity-and-access-management class=md-nav__link> ğŸ” Identity and Access Management </a> <nav class=md-nav aria-label="ğŸ” Identity and Access Management"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#security-architecture-overview class=md-nav__link> Security Architecture Overview </a> </li> <li class=md-nav__item> <a href=#azure-active-directory-integration class=md-nav__link> ğŸŒ Azure Active Directory Integration </a> <nav class=md-nav aria-label="ğŸŒ Azure Active Directory Integration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#authentication-controls class=md-nav__link> ğŸ” Authentication Controls </a> </li> <li class=md-nav__item> <a href=#authorization-framework class=md-nav__link> ğŸ”’ Authorization Framework </a> </li> <li class=md-nav__item> <a href=#workspace-level-security-controls class=md-nav__link> ğŸ­ Workspace-Level Security Controls </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-security class=md-nav__link> ğŸ“œ Data Security </a> <nav class=md-nav aria-label="ğŸ“œ Data Security"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#encryption-and-data-protection class=md-nav__link> ğŸ” Encryption and Data Protection </a> <nav class=md-nav aria-label="ğŸ” Encryption and Data Protection"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#encryption-strategy class=md-nav__link> ğŸ”’ Encryption Strategy </a> </li> <li class=md-nav__item> <a href=#sensitive-data-protection class=md-nav__link> ğŸ­ Sensitive Data Protection </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sql-security-features class=md-nav__link> ğŸ“Š SQL Security Features </a> <nav class=md-nav aria-label="ğŸ“Š SQL Security Features"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#advanced-sql-security-controls class=md-nav__link> ğŸ” Advanced SQL Security Controls </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#network-security class=md-nav__link> ğŸŒ Network Security </a> <nav class=md-nav aria-label="ğŸŒ Network Security"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#network-isolation-architecture class=md-nav__link> ğŸ”’ Network Isolation Architecture </a> <nav class=md-nav aria-label="ğŸ”’ Network Isolation Architecture"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#private-endpoints-configuration class=md-nav__link> ğŸ”— Private Endpoints Configuration </a> </li> <li class=md-nav__item> <a href=#network-security-groups-nsg class=md-nav__link> ğŸ¡ Network Security Groups (NSG) </a> </li> <li class=md-nav__item> <a href=#managed-virtual-network class=md-nav__link> ğŸ¡ Managed Virtual Network </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#secret-management class=md-nav__link> ğŸ”‘ Secret Management </a> <nav class=md-nav aria-label="ğŸ”‘ Secret Management"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#azure-key-vault-integration class=md-nav__link> ğŸ”‘ Azure Key Vault Integration </a> <nav class=md-nav aria-label="ğŸ”‘ Azure Key Vault Integration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#secure-credential-storage class=md-nav__link> ğŸ“„ Secure Credential Storage </a> </li> <li class=md-nav__item> <a href=#secure-parameter-management class=md-nav__link> ğŸ” Secure Parameter Management </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#auditing-and-monitoring class=md-nav__link> ğŸ“ˆ Auditing and Monitoring </a> <nav class=md-nav aria-label="ğŸ“ˆ Auditing and Monitoring"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#comprehensive-audit-strategy class=md-nav__link> ğŸ“‹ Comprehensive Audit Strategy </a> <nav class=md-nav aria-label="ğŸ“‹ Comprehensive Audit Strategy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#advanced-audit-configuration class=md-nav__link> ğŸ“ˆ Advanced Audit Configuration </a> </li> <li class=md-nav__item> <a href=#security-monitoring-and-response class=md-nav__link> ğŸš¨ Security Monitoring and Response </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#compliance-and-governance class=md-nav__link> ğŸ“‹ Compliance and Governance </a> <nav class=md-nav aria-label="ğŸ“‹ Compliance and Governance"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-governance-framework class=md-nav__link> ğŸ  Data Governance Framework </a> <nav class=md-nav aria-label="ğŸ  Data Governance Framework"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#data-lineage-and-discovery class=md-nav__link> ğŸ—ºï¸ Data Lineage and Discovery </a> </li> <li class=md-nav__item> <a href=#regulatory-compliance-controls class=md-nav__link> ğŸ“‹ Regulatory Compliance Controls </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#security-devops-secdevops class=md-nav__link> ğŸš€ Security DevOps (SecDevOps) </a> <nav class=md-nav aria-label="ğŸš€ Security DevOps (SecDevOps)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#security-integrated-cicd class=md-nav__link> ğŸ”„ Security-Integrated CI/CD </a> <nav class=md-nav aria-label="ğŸ”„ Security-Integrated CI/CD"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#secure-deployment-pipeline class=md-nav__link> ğŸ—ï¸ Secure Deployment Pipeline </a> </li> <li class=md-nav__item> <a href=#security-posture-management class=md-nav__link> ğŸ›¡ï¸ Security Posture Management </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#security-excellence-summary class=md-nav__link> ğŸ† Security Excellence Summary </a> <nav class=md-nav aria-label="ğŸ† Security Excellence Summary"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#security-implementation-checklist class=md-nav__link> ğŸ“‹ Security Implementation Checklist </a> </li> <li class=md-nav__item> <a href=#continuous-security-improvement class=md-nav__link> ğŸ”„ Continuous Security Improvement </a> </li> <li class=md-nav__item> <a href=#additional-resources class=md-nav__link> ğŸ“š Additional Resources </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../serverless-sql-best-practices/ class=md-nav__link> <span class=md-ellipsis> Serverless SQL Best Practices </span> </a> </li> <li class=md-nav__item> <a href=../spark-performance/ class=md-nav__link> <span class=md-ellipsis> Spark Performance </span> </a> </li> <li class=md-nav__item> <a href=../sql-performance/ class=md-nav__link> <span class=md-ellipsis> SQL Performance </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../../security/ class="md-nav__link "> <span class=md-ellipsis> Security </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../security/best-practices/ class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> </li> <li class=md-nav__item> <a href=../../security/compliance-guide/ class=md-nav__link> <span class=md-ellipsis> Compliance Guide </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <div class="md-nav__link md-nav__container"> <a href=../../reference/ class="md-nav__link "> <span class=md-ellipsis> Reference </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/glossary/ class=md-nav__link> <span class=md-ellipsis> Glossary </span> </a> </li> <li class=md-nav__item> <a href=../../reference/security-checklist/ class=md-nav__link> <span class=md-ellipsis> Security Checklist </span> </a> </li> <li class=md-nav__item> <a href=../../reference/spark-configuration/ class=md-nav__link> <span class=md-ellipsis> Spark Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <div class="md-nav__link md-nav__container"> <a href=../../troubleshooting/ class="md-nav__link "> <span class=md-ellipsis> Troubleshooting </span> </a> <label class="md-nav__link " for=__nav_9 id=__nav_9_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../troubleshooting/guided-troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Guided Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/authentication-troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Authentication </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/connectivity-troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Connectivity </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/delta-lake-troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Delta Lake </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/pipeline-troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Pipelines </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/serverless-sql-troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Serverless SQL </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/spark-troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Spark </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <div class="md-nav__link md-nav__container"> <a href=../../code-examples/ class="md-nav__link "> <span class=md-ellipsis> Code Examples </span> </a> <label class="md-nav__link " for=__nav_10 id=__nav_10_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Code Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_2> <div class="md-nav__link md-nav__container"> <a href=../../code-examples/delta-lake/ class="md-nav__link "> <span class=md-ellipsis> Delta Lake </span> </a> <label class="md-nav__link " for=__nav_10_2 id=__nav_10_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_2_label aria-expanded=false> <label class=md-nav__title for=__nav_10_2> <span class="md-nav__icon md-icon"></span> Delta Lake </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../code-examples/delta-lake/cdc/change-data-capture/ class=md-nav__link> <span class=md-ellipsis> CDC </span> </a> </li> <li class=md-nav__item> <a href=../../code-examples/delta-lake/ingestion/auto-loader/ class=md-nav__link> <span class=md-ellipsis> Auto Loader </span> </a> </li> <li class=md-nav__item> <a href=../../code-examples/delta-lake/optimization/table-optimization/ class=md-nav__link> <span class=md-ellipsis> Table Optimization </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_3> <div class="md-nav__link md-nav__container"> <a href=../../code-examples/serverless-sql/ class="md-nav__link "> <span class=md-ellipsis> Serverless SQL </span> </a> <label class="md-nav__link " for=__nav_10_3 id=__nav_10_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_3_label aria-expanded=false> <label class=md-nav__title for=__nav_10_3> <span class="md-nav__icon md-icon"></span> Serverless SQL </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../code-examples/serverless-sql/query-optimization/ class=md-nav__link> <span class=md-ellipsis> Query Optimization </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_4> <div class="md-nav__link md-nav__container"> <a href=../../code-examples/integration/ class="md-nav__link "> <span class=md-ellipsis> Integration </span> </a> <label class="md-nav__link " for=__nav_10_4 id=__nav_10_4_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_4_label aria-expanded=false> <label class=md-nav__title for=__nav_10_4> <span class="md-nav__icon md-icon"></span> Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../code-examples/integration/azure-data-factory/ class=md-nav__link> <span class=md-ellipsis> Azure Data Factory </span> </a> </li> <li class=md-nav__item> <a href=../../code-examples/integration/azure-ml/ class=md-nav__link> <span class=md-ellipsis> Azure ML </span> </a> </li> <li class=md-nav__item> <a href=../../code-examples/integration/azure-purview/ class=md-nav__link> <span class=md-ellipsis> Azure Purview </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11> <div class="md-nav__link md-nav__container"> <a href=../../solutions/ class="md-nav__link "> <span class=md-ellipsis> Solutions </span> </a> <label class="md-nav__link " for=__nav_11 id=__nav_11_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Solutions </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11_2> <div class="md-nav__link md-nav__container"> <a href=../../solutions/azure-realtime-analytics/ class="md-nav__link "> <span class=md-ellipsis> Azure Real-time Analytics </span> </a> <label class="md-nav__link " for=__nav_11_2 id=__nav_11_2_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_2_label aria-expanded=false> <label class=md-nav__title for=__nav_11_2> <span class="md-nav__icon md-icon"></span> Azure Real-time Analytics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../solutions/azure-realtime-analytics/architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../solutions/azure-realtime-analytics/implementation/ class=md-nav__link> <span class=md-ellipsis> Implementation </span> </a> </li> <li class=md-nav__item> <a href=../../solutions/azure-realtime-analytics/operations/ class=md-nav__link> <span class=md-ellipsis> Operations </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12> <div class="md-nav__link md-nav__container"> <a href=../../guides/ class="md-nav__link "> <span class=md-ellipsis> Guides </span> </a> <label class="md-nav__link " for=__nav_12 id=__nav_12_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_12_label aria-expanded=false> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../guides/quick-start-wizard/ class=md-nav__link> <span class=md-ellipsis> Quick Start Wizard </span> </a> </li> <li class=md-nav__item> <a href=../../guides/CONTRIBUTING_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Contributing Guide </span> </a> </li> <li class=md-nav__item> <a href=../../guides/DEVELOPMENT_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Development Guide </span> </a> </li> <li class=md-nav__item> <a href=../../guides/DIRECTORY_STRUCTURE_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Directory Structure Guide </span> </a> </li> <li class=md-nav__item> <a href=../../guides/MARKDOWN_STYLE_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Markdown Style Guide </span> </a> </li> <li class=md-nav__item> <a href=../../guides/TESTING_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Testing Guide </span> </a> </li> <li class=md-nav__item> <a href=../../guides/CODE_REVIEW_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Code Review Guide </span> </a> </li> <li class=md-nav__item> <a href=../../guides/analytics-setup/ class=md-nav__link> <span class=md-ellipsis> Analytics Setup Guide </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13> <label class=md-nav__link for=__nav_13 id=__nav_13_label tabindex> <span class=md-ellipsis> Additional Resources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_13_label aria-expanded=false> <label class=md-nav__title for=__nav_13> <span class="md-nav__icon md-icon"></span> Additional Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13_2> <label class=md-nav__link for=__nav_13_2 id=__nav_13_2_label tabindex> <span class=md-ellipsis> Administration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_2_label aria-expanded=false> <label class=md-nav__title for=__nav_13_2> <span class="md-nav__icon md-icon"></span> Administration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../administration/workspace-management/ class=md-nav__link> <span class=md-ellipsis> Workspace Management </span> </a> </li> <li class=md-nav__item> <a href=../../administration/usage-reporting/ class=md-nav__link> <span class=md-ellipsis> Usage Reporting </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13_3> <div class="md-nav__link md-nav__container"> <a href=../../monitoring/ class="md-nav__link "> <span class=md-ellipsis> Monitoring </span> </a> <label class="md-nav__link " for=__nav_13_3 id=__nav_13_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_3_label aria-expanded=false> <label class=md-nav__title for=__nav_13_3> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../monitoring/deployment-monitoring/ class=md-nav__link> <span class=md-ellipsis> Deployment Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../../monitoring/logging-monitoring-guide/ class=md-nav__link> <span class=md-ellipsis> Logging & Monitoring Guide </span> </a> </li> <li class=md-nav__item> <a href=../../monitoring/security-monitoring/ class=md-nav__link> <span class=md-ellipsis> Security Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../../monitoring/spark-monitoring/ class=md-nav__link> <span class=md-ellipsis> Spark Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../../monitoring/sql-monitoring/ class=md-nav__link> <span class=md-ellipsis> SQL Monitoring </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13_4> <label class=md-nav__link for=__nav_13_4 id=__nav_13_4_label tabindex> <span class=md-ellipsis> DevOps </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_4_label aria-expanded=false> <label class=md-nav__title for=__nav_13_4> <span class="md-nav__icon md-icon"></span> DevOps </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devops/automated-testing/ class=md-nav__link> <span class=md-ellipsis> Automated Testing </span> </a> </li> <li class=md-nav__item> <a href=../../devops/pipeline-ci-cd/ class=md-nav__link> <span class=md-ellipsis> Pipeline CI/CD </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_13_5> <div class="md-nav__link md-nav__container"> <a href=../../diagrams/ class="md-nav__link "> <span class=md-ellipsis> Diagrams </span> </a> <label class="md-nav__link " for=__nav_13_5 id=__nav_13_5_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_5_label aria-expanded=false> <label class=md-nav__title for=__nav_13_5> <span class="md-nav__icon md-icon"></span> Diagrams </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../diagrams/architecture-diagrams/ class=md-nav__link> <span class=md-ellipsis> Architecture Diagrams </span> </a> </li> <li class=md-nav__item> <a href=../../diagrams/data-governance-diagrams/ class=md-nav__link> <span class=md-ellipsis> Data Governance Diagrams </span> </a> </li> <li class=md-nav__item> <a href=../../diagrams/process-flowcharts/ class=md-nav__link> <span class=md-ellipsis> Process Flowcharts </span> </a> </li> <li class=md-nav__item> <a href=../../diagrams/security-diagrams/ class=md-nav__link> <span class=md-ellipsis> Security Diagrams </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_14> <div class="md-nav__link md-nav__container"> <a href=../../architecture/ class="md-nav__link "> <span class=md-ellipsis> Legacy Documentation </span> </a> <label class="md-nav__link " for=__nav_14 id=__nav_14_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_14_label aria-expanded=false> <label class=md-nav__title for=__nav_14> <span class="md-nav__icon md-icon"></span> Legacy Documentation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../serverless-sql/ class=md-nav__link> <span class=md-ellipsis> Serverless SQL (Legacy) </span> </a> </li> <li class=md-nav__item> <a href=../../shared-metadata/ class=md-nav__link> <span class=md-ellipsis> Shared Metadata (Legacy) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=security-best-practices-for-azure-synapse-analytics>ğŸ”’ Security Best Practices for Azure Synapse Analytics<a class=headerlink href=#security-best-practices-for-azure-synapse-analytics title="Permanent link">&para;</a></h1> <p><a href=../../README.md>Home</a> &gt; Best Practices &gt; Security</p> <blockquote> <p>ğŸ¡ <strong>Defense-in-Depth Security</strong><br> Comprehensive security framework for protecting your Azure Synapse Analytics environment with enterprise-grade controls and compliance capabilities.</p> </blockquote> <hr> <h2 id=identity-and-access-management>ğŸ” Identity and Access Management<a class=headerlink href=#identity-and-access-management title="Permanent link">&para;</a></h2> <blockquote> <p>ğŸ—ï¸ <strong>Security Foundation</strong> Identity and access management forms the cornerstone of your Synapse security architecture.</p> </blockquote> <h3 id=security-architecture-overview>Security Architecture Overview<a class=headerlink href=#security-architecture-overview title="Permanent link">&para;</a></h3> <p>The following diagram illustrates the layered security architecture for Azure Synapse Analytics:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>graph TB
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>    subgraph &quot;Identity Layer&quot;
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>        A[Azure Active Directory]
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>        B[Multi-Factor Authentication]
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>        C[Conditional Access Policies]
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>    end
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    subgraph &quot;Network Layer&quot;
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>        D[Private Endpoints]
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>        E[Managed Virtual Network]
</span><span id=__span-0-11><a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>        F[NSG Rules]
</span><span id=__span-0-12><a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>        G[IP Firewall]
</span><span id=__span-0-13><a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>    end
</span><span id=__span-0-14><a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>
</span><span id=__span-0-15><a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a>    subgraph &quot;Data Layer&quot;
</span><span id=__span-0-16><a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>        H[Encryption at Rest]
</span><span id=__span-0-17><a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a>        I[Encryption in Transit]
</span><span id=__span-0-18><a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>        J[Row-Level Security]
</span><span id=__span-0-19><a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>        K[Column-Level Security]
</span><span id=__span-0-20><a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>        L[Dynamic Data Masking]
</span><span id=__span-0-21><a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>    end
</span><span id=__span-0-22><a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a>
</span><span id=__span-0-23><a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a>    subgraph &quot;Application Layer&quot;
</span><span id=__span-0-24><a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a>        M[RBAC Controls]
</span><span id=__span-0-25><a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a>        N[Workspace Permissions]
</span><span id=__span-0-26><a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a>        O[SQL Permissions]
</span><span id=__span-0-27><a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a>    end
</span><span id=__span-0-28><a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a>
</span><span id=__span-0-29><a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a>    subgraph &quot;Monitoring Layer&quot;
</span><span id=__span-0-30><a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a>        P[Azure Monitor]
</span><span id=__span-0-31><a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a>        Q[Security Center]
</span><span id=__span-0-32><a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a>        R[Audit Logs]
</span><span id=__span-0-33><a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a>        S[Sentinel SIEM]
</span><span id=__span-0-34><a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a>    end
</span><span id=__span-0-35><a id=__codelineno-0-35 name=__codelineno-0-35 href=#__codelineno-0-35></a>
</span><span id=__span-0-36><a id=__codelineno-0-36 name=__codelineno-0-36 href=#__codelineno-0-36></a>    A --&gt; M
</span><span id=__span-0-37><a id=__codelineno-0-37 name=__codelineno-0-37 href=#__codelineno-0-37></a>    B --&gt; A
</span><span id=__span-0-38><a id=__codelineno-0-38 name=__codelineno-0-38 href=#__codelineno-0-38></a>    C --&gt; A
</span><span id=__span-0-39><a id=__codelineno-0-39 name=__codelineno-0-39 href=#__codelineno-0-39></a>
</span><span id=__span-0-40><a id=__codelineno-0-40 name=__codelineno-0-40 href=#__codelineno-0-40></a>    M --&gt; N
</span><span id=__span-0-41><a id=__codelineno-0-41 name=__codelineno-0-41 href=#__codelineno-0-41></a>    M --&gt; O
</span><span id=__span-0-42><a id=__codelineno-0-42 name=__codelineno-0-42 href=#__codelineno-0-42></a>
</span><span id=__span-0-43><a id=__codelineno-0-43 name=__codelineno-0-43 href=#__codelineno-0-43></a>    D --&gt; E
</span><span id=__span-0-44><a id=__codelineno-0-44 name=__codelineno-0-44 href=#__codelineno-0-44></a>    E --&gt; F
</span><span id=__span-0-45><a id=__codelineno-0-45 name=__codelineno-0-45 href=#__codelineno-0-45></a>    F --&gt; G
</span><span id=__span-0-46><a id=__codelineno-0-46 name=__codelineno-0-46 href=#__codelineno-0-46></a>
</span><span id=__span-0-47><a id=__codelineno-0-47 name=__codelineno-0-47 href=#__codelineno-0-47></a>    H --&gt; L
</span><span id=__span-0-48><a id=__codelineno-0-48 name=__codelineno-0-48 href=#__codelineno-0-48></a>    I --&gt; L
</span><span id=__span-0-49><a id=__codelineno-0-49 name=__codelineno-0-49 href=#__codelineno-0-49></a>    J --&gt; L
</span><span id=__span-0-50><a id=__codelineno-0-50 name=__codelineno-0-50 href=#__codelineno-0-50></a>    K --&gt; L
</span><span id=__span-0-51><a id=__codelineno-0-51 name=__codelineno-0-51 href=#__codelineno-0-51></a>
</span><span id=__span-0-52><a id=__codelineno-0-52 name=__codelineno-0-52 href=#__codelineno-0-52></a>    N --&gt; P
</span><span id=__span-0-53><a id=__codelineno-0-53 name=__codelineno-0-53 href=#__codelineno-0-53></a>    O --&gt; P
</span><span id=__span-0-54><a id=__codelineno-0-54 name=__codelineno-0-54 href=#__codelineno-0-54></a>    P --&gt; R
</span><span id=__span-0-55><a id=__codelineno-0-55 name=__codelineno-0-55 href=#__codelineno-0-55></a>    Q --&gt; S
</span><span id=__span-0-56><a id=__codelineno-0-56 name=__codelineno-0-56 href=#__codelineno-0-56></a>    R --&gt; S
</span><span id=__span-0-57><a id=__codelineno-0-57 name=__codelineno-0-57 href=#__codelineno-0-57></a>
</span><span id=__span-0-58><a id=__codelineno-0-58 name=__codelineno-0-58 href=#__codelineno-0-58></a>    style A fill:#4CAF50
</span><span id=__span-0-59><a id=__codelineno-0-59 name=__codelineno-0-59 href=#__codelineno-0-59></a>    style D fill:#2196F3
</span><span id=__span-0-60><a id=__codelineno-0-60 name=__codelineno-0-60 href=#__codelineno-0-60></a>    style H fill:#FF9800
</span><span id=__span-0-61><a id=__codelineno-0-61 name=__codelineno-0-61 href=#__codelineno-0-61></a>    style M fill:#9C27B0
</span><span id=__span-0-62><a id=__codelineno-0-62 name=__codelineno-0-62 href=#__codelineno-0-62></a>    style P fill:#F44336
</span></code></pre></div> <h3 id=azure-active-directory-integration>ğŸŒ Azure Active Directory Integration<a class=headerlink href=#azure-active-directory-integration title="Permanent link">&para;</a></h3> <h4 id=authentication-controls>ğŸ” Authentication Controls<a class=headerlink href=#authentication-controls title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Security Control</th> <th>Implementation</th> <th>Compliance Level</th> <th>Risk Mitigation</th> </tr> </thead> <tbody> <tr> <td>ğŸ” <strong>AAD Authentication</strong></td> <td>Primary authentication method</td> <td><img alt=Enterprise src=https://img.shields.io/badge/Level-Enterprise-darkgreen></td> <td><img alt=High src=https://img.shields.io/badge/Risk-High-red></td> </tr> <tr> <td>ğŸ¤– <strong>Managed Identities</strong></td> <td>Service-to-service authentication</td> <td><img alt=Recommended src=https://img.shields.io/badge/Level-Recommended-blue></td> <td><img alt=Medium src=https://img.shields.io/badge/Risk-Medium-orange></td> </tr> <tr> <td>ğŸ” <strong>Multi-Factor Authentication</strong></td> <td>Required for all user access</td> <td><img alt=Critical src=https://img.shields.io/badge/Priority-Critical-red></td> <td><img alt="Very High" src=https://img.shields.io/badge/Risk-Very_High-darkred></td> </tr> </tbody> </table> <div class="language-json highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=p>{</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>  </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Microsoft.Synapse/workspaces&quot;</span><span class=p>,</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>  </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=nt>&quot;identity&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>      </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;SystemAssigned&quot;</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class=nt>&quot;azureADOnlyAuthentication&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=nt>&quot;trustedServiceBypassEnabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>âš ï¸ <strong>Security Alert</strong><br> Always enable AAD-only authentication to prevent SQL authentication bypass attempts.</p> </blockquote> <hr> <h4 id=authorization-framework>ğŸ”’ Authorization Framework<a class=headerlink href=#authorization-framework title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Authorization Layer</th> <th>Control Type</th> <th>Implementation</th> <th>Security Impact</th> </tr> </thead> <tbody> <tr> <td>ğŸ” <strong>RBAC (Built-in Roles)</strong></td> <td>Least privilege principle</td> <td>Azure built-in roles</td> <td><img alt=High src=https://img.shields.io/badge/Impact-High-green></td> </tr> <tr> <td>ğŸ“‹ <strong>Custom Roles</strong></td> <td>Specialized access requirements</td> <td>Custom role definitions</td> <td><img alt=Medium src=https://img.shields.io/badge/Impact-Medium-yellow></td> </tr> <tr> <td>ğŸŒ <strong>Conditional Access</strong></td> <td>Context-based access control</td> <td>Azure AD policies</td> <td><img alt="Very High" src=https://img.shields.io/badge/Impact-Very_High-darkgreen></td> </tr> </tbody> </table> <div class="language-powershell highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c># ğŸ” Assign appropriate Synapse roles</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=nb>New-AzRoleAssignment</span> <span class=n>-SignInName</span> <span class=n>user</span><span class=nv>@contoso</span><span class=p>.</span><span class=n>com</span> <span class=p>`</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>-RoleDefinitionName</span> <span class=s2>&quot;Synapse SQL Administrator&quot;</span> <span class=p>`</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    <span class=n>-Scope</span> <span class=s2>&quot;/subscriptions/&lt;sub-id&gt;/resourceGroups/&lt;rg&gt;/providers/Microsoft.Synapse/workspaces/&lt;workspace&gt;&quot;</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=c># ğŸ” Read-only access for analysts</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=nb>New-AzRoleAssignment</span> <span class=n>-SignInName</span> <span class=n>analyst</span><span class=nv>@contoso</span><span class=p>.</span><span class=n>com</span> <span class=p>`</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=n>-RoleDefinitionName</span> <span class=s2>&quot;Synapse Artifact User&quot;</span> <span class=p>`</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>    <span class=n>-Scope</span> <span class=s2>&quot;/subscriptions/&lt;sub-id&gt;/resourceGroups/&lt;rg&gt;/providers/Microsoft.Synapse/workspaces/&lt;workspace&gt;&quot;</span>
</span></code></pre></div> <blockquote> <p>ğŸ“‹ <strong>RBAC Best Practices</strong> </p> <ul> <li>Start with least privilege</li> <li>Use built-in roles when possible</li> <li>Regular access reviews (quarterly)</li> <li>Implement break-glass procedures</li> </ul> </blockquote> <hr> <h4 id=workspace-level-security-controls>ğŸ­ Workspace-Level Security Controls<a class=headerlink href=#workspace-level-security-controls title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Security Feature</th> <th>Purpose</th> <th>Implementation Complexity</th> <th>Security Level</th> </tr> </thead> <tbody> <tr> <td>ğŸŒ <strong>IP Firewall Rules</strong></td> <td>Restrict network access by IP range</td> <td><img alt=Low src=https://img.shields.io/badge/Complexity-Low-green></td> <td><img alt=Medium src=https://img.shields.io/badge/Security-Medium-yellow></td> </tr> <tr> <td>ğŸ”— <strong>Private Link</strong></td> <td>Secure VNet connectivity</td> <td><img alt=High src=https://img.shields.io/badge/Complexity-High-red></td> <td><img alt="Very High" src=https://img.shields.io/badge/Security-Very_High-darkgreen></td> </tr> <tr> <td>ğŸŒ <strong>Managed VNet</strong></td> <td>Network isolation</td> <td><img alt=Medium src=https://img.shields.io/badge/Complexity-Medium-orange></td> <td><img alt=High src=https://img.shields.io/badge/Security-High-green></td> </tr> </tbody> </table> <div class="language-json highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=p>{</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>  </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>    </span><span class=nt>&quot;managedVirtualNetwork&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;default&quot;</span><span class=p>,</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>    </span><span class=nt>&quot;trustedServiceBypassEnabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>    </span><span class=nt>&quot;azureADOnlyAuthentication&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>    </span><span class=nt>&quot;publicNetworkAccess&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Disabled&quot;</span><span class=p>,</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>    </span><span class=nt>&quot;firewallRules&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>        </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;CorporateNetwork&quot;</span><span class=p>,</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>        </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>          </span><span class=nt>&quot;startIpAddress&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;10.0.0.0&quot;</span><span class=p>,</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=w>          </span><span class=nt>&quot;endIpAddress&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;10.0.255.255&quot;</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=w>    </span><span class=p>]</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>ğŸ”’ <strong>Network Security Layers</strong> </p> <ol> <li><strong>Private Link</strong> - Secure VNet communication</li> <li><strong>Managed VNet</strong> - Isolated compute environment </li> <li><strong>IP Firewall</strong> - Additional IP-based filtering</li> <li><strong>NSG Rules</strong> - Subnet-level traffic control</li> </ol> </blockquote> <hr> <h2 id=data-security>ğŸ“œ Data Security<a class=headerlink href=#data-security title="Permanent link">&para;</a></h2> <blockquote> <p>ğŸ”’ <strong>Data Protection Excellence</strong><br> Implement comprehensive data protection controls to secure sensitive information at rest, in transit, and in use.</p> </blockquote> <h3 id=encryption-and-data-protection>ğŸ” Encryption and Data Protection<a class=headerlink href=#encryption-and-data-protection title="Permanent link">&para;</a></h3> <h4 id=encryption-strategy>ğŸ”’ Encryption Strategy<a class=headerlink href=#encryption-strategy title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Encryption Type</th> <th>Implementation</th> <th>Key Management</th> <th>Compliance Impact</th> </tr> </thead> <tbody> <tr> <td>ğŸ”’ <strong>At Rest</strong></td> <td>All storage encrypted by default</td> <td>Microsoft or customer-managed</td> <td><img alt=Required src=https://img.shields.io/badge/Compliance-Required-red></td> </tr> <tr> <td>ğŸ’ª <strong>In Transit</strong></td> <td>TLS 1.2+ for all connections</td> <td>Certificate-based</td> <td><img alt=Critical src=https://img.shields.io/badge/Priority-Critical-darkred></td> </tr> <tr> <td>ğŸ­ <strong>TDE (SQL Pools)</strong></td> <td>Transparent database encryption</td> <td>Service or customer-managed</td> <td><img alt=Enterprise src=https://img.shields.io/badge/Level-Enterprise-blue></td> </tr> </tbody> </table> <div class="language-powershell highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c># ğŸ” Configure customer-managed encryption</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=nb>Set-AzSynapseWorkspace</span> <span class=n>-Name</span> <span class=nv>$workspaceName</span> <span class=p>`</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>    <span class=n>-ResourceGroupName</span> <span class=nv>$resourceGroupName</span> <span class=p>`</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>    <span class=n>-KeyVaultUrl</span> <span class=nv>$keyVaultUrl</span> <span class=p>`</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=n>-KeyName</span> <span class=nv>$keyName</span> <span class=p>`</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>    <span class=n>-KeyVersion</span> <span class=nv>$keyVersion</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=c># ğŸ”’ Enable TDE for dedicated SQL pools</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=nb>Set-AzSqlDatabaseTransparentDataEncryption</span> <span class=p>`</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>    <span class=n>-ResourceGroupName</span> <span class=nv>$resourceGroupName</span> <span class=p>`</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>    <span class=n>-ServerName</span> <span class=nv>$serverName</span> <span class=p>`</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>    <span class=n>-DatabaseName</span> <span class=nv>$databaseName</span> <span class=p>`</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>    <span class=n>-State</span> <span class=s2>&quot;Enabled&quot;</span>
</span></code></pre></div> <blockquote> <p>ğŸ”‘ <strong>Key Management Best Practices</strong> </p> <ul> <li>Use Azure Key Vault for centralized key management</li> <li>Implement key rotation policies (annual)</li> <li>Separate encryption keys by environment</li> <li>Monitor key access and usage</li> </ul> </blockquote> <hr> <h4 id=sensitive-data-protection>ğŸ­ Sensitive Data Protection<a class=headerlink href=#sensitive-data-protection title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Protection Technique</th> <th>Use Case</th> <th>Implementation</th> <th>Privacy Level</th> </tr> </thead> <tbody> <tr> <td>ğŸ·ï¸ <strong>Data Classification</strong></td> <td>Discover and label sensitive data</td> <td>SQL sensitivity labels</td> <td><img alt=Discovery src=https://img.shields.io/badge/Type-Discovery-blue></td> </tr> <tr> <td>ğŸ­ <strong>Dynamic Data Masking</strong></td> <td>Hide sensitive data from unauthorized users</td> <td>Column-level masking</td> <td><img alt=Runtime src=https://img.shields.io/badge/Type-Runtime-green></td> </tr> <tr> <td>ğŸ”„ <strong>Data Anonymization</strong></td> <td>De-identify data for analytics</td> <td>Tokenization, perturbation</td> <td><img alt=Permanent src=https://img.shields.io/badge/Type-Permanent-purple></td> </tr> </tbody> </table> <div class="language-sql highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1>-- ğŸ·ï¸ Data Classification - Label sensitive columns</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=k>ADD</span><span class=w> </span><span class=n>SENSITIVITY</span><span class=w> </span><span class=n>CLASSIFICATION</span><span class=w> </span><span class=k>TO</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>  </span><span class=n>customers</span><span class=p>.</span><span class=n>customer_table</span><span class=p>.</span><span class=n>credit_card_number</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=k>WITH</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>  </span><span class=n>LABEL</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Highly Confidential&#39;</span><span class=p>,</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>  </span><span class=n>INFORMATION_TYPE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Financial&#39;</span><span class=p>,</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>  </span><span class=n>LABEL_ID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;331c8da8-4c3c-4d3b-b4e1-3d5c8d3f4a2b&#39;</span><span class=p>,</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>  </span><span class=n>INFORMATION_TYPE_ID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;d22fa6e9-5ee4-3bde-4c2b-a409604c4646&#39;</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=p>);</span>
</span></code></pre></div> <div class="language-sql highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1>-- ğŸ­ Dynamic Data Masking - Hide sensitive data</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>customers</span><span class=w> </span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=k>ADD</span><span class=w> </span><span class=n>MASKED</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=p>(</span><span class=k>FUNCTION</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;partial(2,&quot;XXXXXXX&quot;,0)&#39;</span><span class=p>)</span><span class=w> </span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=k>FOR</span><span class=w> </span><span class=k>COLUMN</span><span class=w> </span><span class=n>credit_card_number</span><span class=p>;</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=c1>-- Email masking</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>customers</span><span class=w> </span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=k>ADD</span><span class=w> </span><span class=n>MASKED</span><span class=w> </span><span class=k>WITH</span><span class=w> </span><span class=p>(</span><span class=k>FUNCTION</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;email()&#39;</span><span class=p>)</span><span class=w> </span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=k>FOR</span><span class=w> </span><span class=k>COLUMN</span><span class=w> </span><span class=n>email_address</span><span class=p>;</span>
</span></code></pre></div> <blockquote> <p>ğŸ” <strong>Data Protection Layers</strong> </p> <ol> <li><strong>Discovery</strong>: Identify sensitive data automatically</li> <li><strong>Classification</strong>: Label data based on sensitivity </li> <li><strong>Protection</strong>: Apply appropriate controls</li> <li><strong>Monitoring</strong>: Track access to sensitive data</li> </ol> </blockquote> <hr> <h3 id=sql-security-features>ğŸ“Š SQL Security Features<a class=headerlink href=#sql-security-features title="Permanent link">&para;</a></h3> <h4 id=advanced-sql-security-controls>ğŸ” Advanced SQL Security Controls<a class=headerlink href=#advanced-sql-security-controls title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Security Control</th> <th>Implementation</th> <th>Granularity</th> <th>Use Cases</th> </tr> </thead> <tbody> <tr> <td>ğŸ“‹ <strong>Row-Level Security (RLS)</strong></td> <td>Filter predicates and policies</td> <td>Row-level</td> <td>Multi-tenant, regional data</td> </tr> <tr> <td>ğŸ“œ <strong>Column-Level Security</strong></td> <td>GRANT/DENY permissions</td> <td>Column-level</td> <td>Salary data, PII protection</td> </tr> <tr> <td>ğŸ” <strong>SQL Vulnerability Assessment</strong></td> <td>Automated security scanning</td> <td>Database-level</td> <td>Compliance, risk management</td> </tr> </tbody> </table> <div class="language-sql highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1>-- ğŸ“‹ Row-Level Security Implementation</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=k>CREATE</span><span class=w> </span><span class=k>FUNCTION</span><span class=w> </span><span class=n>dbo</span><span class=p>.</span><span class=n>fn_territoryFilter</span><span class=p>(</span><span class=o>@</span><span class=n>TerritoryId</span><span class=w> </span><span class=nb>INT</span><span class=p>)</span><span class=w>  </span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=k>RETURNS</span><span class=w> </span><span class=k>TABLE</span><span class=w>  </span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=k>WITH</span><span class=w> </span><span class=n>SCHEMABINDING</span><span class=w>  </span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=k>AS</span><span class=w>  </span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=k>RETURN</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>fn_securitypredicate_result</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=k>WHERE</span><span class=w> </span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>    </span><span class=o>@</span><span class=n>TerritoryId</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>CAST</span><span class=p>(</span><span class=n>SESSION_CONTEXT</span><span class=p>(</span><span class=n>N</span><span class=s1>&#39;TerritoryId&#39;</span><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=nb>INT</span><span class=p>)</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>    </span><span class=k>OR</span><span class=w> </span><span class=n>IS_MEMBER</span><span class=p>(</span><span class=s1>&#39;db_datareader&#39;</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=c1>-- Apply security policy</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=k>CREATE</span><span class=w> </span><span class=k>SECURITY</span><span class=w> </span><span class=n>POLICY</span><span class=w> </span><span class=n>TerritoryFilter</span><span class=w>  </span>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=k>ADD</span><span class=w> </span><span class=n>FILTER</span><span class=w> </span><span class=n>PREDICATE</span><span class=w> </span><span class=n>dbo</span><span class=p>.</span><span class=n>fn_territoryFilter</span><span class=p>(</span><span class=n>territory_id</span><span class=p>)</span>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=k>ON</span><span class=w> </span><span class=n>dbo</span><span class=p>.</span><span class=n>sales_data</span>
</span><span id=__span-7-15><a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=k>WITH</span><span class=w> </span><span class=p>(</span><span class=k>STATE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>ON</span><span class=p>);</span>
</span></code></pre></div> <div class="language-sql highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1>-- ğŸ“œ Column-Level Security</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=c1>-- Restrict salary access to HR role only</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=n>DENY</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>employees</span><span class=p>(</span><span class=n>salary</span><span class=p>,</span><span class=w> </span><span class=n>bonus</span><span class=p>)</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=n>analyst_role</span><span class=p>;</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=k>GRANT</span><span class=w> </span><span class=k>SELECT</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>employees</span><span class=p>(</span><span class=n>salary</span><span class=p>,</span><span class=w> </span><span class=n>bonus</span><span class=p>)</span><span class=w> </span><span class=k>TO</span><span class=w> </span><span class=n>hr_role</span><span class=p>;</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=c1>-- Create a view with masked sensitive columns</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=k>CREATE</span><span class=w> </span><span class=k>VIEW</span><span class=w> </span><span class=n>employees_public</span><span class=w> </span><span class=k>AS</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=k>SELECT</span><span class=w> </span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=w>    </span><span class=n>employee_id</span><span class=p>,</span><span class=w> </span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=w>    </span><span class=n>first_name</span><span class=p>,</span><span class=w> </span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=w>    </span><span class=n>last_name</span><span class=p>,</span><span class=w> </span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=w>    </span><span class=n>department</span><span class=p>,</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=w>    </span><span class=c1>-- Salary hidden from non-HR users</span>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=w>    </span><span class=k>CASE</span><span class=w> </span><span class=k>WHEN</span><span class=w> </span><span class=n>IS_MEMBER</span><span class=p>(</span><span class=s1>&#39;hr_role&#39;</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w> </span>
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=w>         </span><span class=k>THEN</span><span class=w> </span><span class=n>salary</span><span class=w> </span>
</span><span id=__span-8-16><a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a><span class=w>         </span><span class=k>ELSE</span><span class=w> </span><span class=k>NULL</span><span class=w> </span>
</span><span id=__span-8-17><a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a><span class=w>    </span><span class=k>END</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>salary</span>
</span><span id=__span-8-18><a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a><span class=k>FROM</span><span class=w> </span><span class=n>employees</span><span class=p>;</span>
</span></code></pre></div> <blockquote> <p>ğŸ”’ <strong>Security Policy Management</strong> </p> <ul> <li>Test policies thoroughly before production deployment</li> <li>Monitor policy performance impact</li> <li>Document security predicates for maintenance</li> <li>Regular policy reviews and updates</li> </ul> </blockquote> <hr> <h2 id=network-security>ğŸŒ Network Security<a class=headerlink href=#network-security title="Permanent link">&para;</a></h2> <blockquote> <p>ğŸ¡ <strong>Network Defense Strategy</strong><br> Implement multi-layered network security controls to protect against unauthorized access and data exfiltration.</p> </blockquote> <h3 id=network-isolation-architecture>ğŸ”’ Network Isolation Architecture<a class=headerlink href=#network-isolation-architecture title="Permanent link">&para;</a></h3> <h4 id=private-endpoints-configuration>ğŸ”— Private Endpoints Configuration<a class=headerlink href=#private-endpoints-configuration title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Endpoint Type</th> <th>Security Level</th> <th>Use Case</th> <th>Network Traffic</th> </tr> </thead> <tbody> <tr> <td>ğŸ”— <strong>Private Endpoints</strong></td> <td>Highest security</td> <td>Production workloads</td> <td><img alt=Private src=https://img.shields.io/badge/Traffic-Private-darkgreen></td> </tr> <tr> <td>ğŸŒ <strong>Service Endpoints</strong></td> <td>Medium security</td> <td>Legacy compatibility</td> <td><img alt=Service_Network src=https://img.shields.io/badge/Traffic-Service_Network-orange></td> </tr> <tr> <td>ğŸŒ <strong>Public Endpoints</strong></td> <td>Basic security</td> <td>Development/testing</td> <td><img alt=Public src=https://img.shields.io/badge/Traffic-Public-red></td> </tr> </tbody> </table> <div class="language-json highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=p>{</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;synapse-sql-private-endpoint&quot;</span><span class=p>,</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>  </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>    </span><span class=nt>&quot;privateLinkServiceConnections&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>        </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;synapse-sql-connection&quot;</span><span class=p>,</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=w>        </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=w>          </span><span class=nt>&quot;privateLinkServiceId&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/subscriptions/&lt;sub-id&gt;/resourceGroups/&lt;rg&gt;/providers/Microsoft.Synapse/workspaces/&lt;workspace&gt;&quot;</span><span class=p>,</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=w>          </span><span class=nt>&quot;groupIds&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;Sql&quot;</span><span class=p>],</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=w>          </span><span class=nt>&quot;requestMessage&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Private endpoint for Synapse SQL&quot;</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=w>    </span><span class=p>],</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a><span class=w>    </span><span class=nt>&quot;subnet&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a><span class=w>      </span><span class=nt>&quot;id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/subscriptions/&lt;sub-id&gt;/resourceGroups/&lt;rg&gt;/providers/Microsoft.Network/virtualNetworks/&lt;vnet&gt;/subnets/&lt;pe-subnet&gt;&quot;</span>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>ğŸ”— <strong>Private Endpoint Best Practices</strong> </p> <ul> <li>Create separate private endpoints for different Synapse services (SQL, Dev, SqlOnDemand)</li> <li>Use dedicated subnets for private endpoints </li> <li>Configure private DNS zones for name resolution</li> <li>Monitor private endpoint connections</li> </ul> </blockquote> <hr> <h4 id=network-security-groups-nsg>ğŸ¡ Network Security Groups (NSG)<a class=headerlink href=#network-security-groups-nsg title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>NSG Rule Type</th> <th>Direction</th> <th>Purpose</th> <th>Security Impact</th> </tr> </thead> <tbody> <tr> <td>ğŸ“Œ <strong>Restrictive Inbound</strong></td> <td>Inbound</td> <td>Limit access to necessary ports only</td> <td><img alt=High src=https://img.shields.io/badge/Impact-High-green></td> </tr> <tr> <td>ğŸ“ <strong>Controlled Outbound</strong></td> <td>Outbound</td> <td>Prevent data exfiltration</td> <td><img alt="Very High" src=https://img.shields.io/badge/Impact-Very_High-darkgreen></td> </tr> <tr> <td>ğŸ“Š <strong>Application Security Groups</strong></td> <td>Both</td> <td>Logical grouping of resources</td> <td><img alt=Medium src=https://img.shields.io/badge/Impact-Medium-yellow></td> </tr> </tbody> </table> <div class="language-json highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=p>{</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=w>  </span><span class=nt>&quot;securityRules&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>      </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;AllowSynapseSQL&quot;</span><span class=p>,</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=w>      </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>        </span><span class=nt>&quot;protocol&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Tcp&quot;</span><span class=p>,</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=w>        </span><span class=nt>&quot;sourcePortRange&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;*&quot;</span><span class=p>,</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=w>        </span><span class=nt>&quot;destinationPortRange&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;1433&quot;</span><span class=p>,</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a><span class=w>        </span><span class=nt>&quot;sourceAddressPrefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;10.0.0.0/16&quot;</span><span class=p>,</span>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a><span class=w>        </span><span class=nt>&quot;destinationAddressPrefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;*&quot;</span><span class=p>,</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a><span class=w>        </span><span class=nt>&quot;access&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Allow&quot;</span><span class=p>,</span>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=w>        </span><span class=nt>&quot;priority&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>100</span><span class=p>,</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=w>        </span><span class=nt>&quot;direction&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Inbound&quot;</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-10-17><a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a><span class=w>      </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;DenyAllInbound&quot;</span><span class=p>,</span>
</span><span id=__span-10-18><a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a><span class=w>      </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-10-19><a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a><span class=w>        </span><span class=nt>&quot;protocol&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;*&quot;</span><span class=p>,</span>
</span><span id=__span-10-20><a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a><span class=w>        </span><span class=nt>&quot;sourcePortRange&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;*&quot;</span><span class=p>,</span>
</span><span id=__span-10-21><a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a><span class=w>        </span><span class=nt>&quot;destinationPortRange&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;*&quot;</span><span class=p>,</span>
</span><span id=__span-10-22><a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a><span class=w>        </span><span class=nt>&quot;sourceAddressPrefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;*&quot;</span><span class=p>,</span>
</span><span id=__span-10-23><a id=__codelineno-10-23 name=__codelineno-10-23 href=#__codelineno-10-23></a><span class=w>        </span><span class=nt>&quot;destinationAddressPrefix&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;*&quot;</span><span class=p>,</span>
</span><span id=__span-10-24><a id=__codelineno-10-24 name=__codelineno-10-24 href=#__codelineno-10-24></a><span class=w>        </span><span class=nt>&quot;access&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Deny&quot;</span><span class=p>,</span>
</span><span id=__span-10-25><a id=__codelineno-10-25 name=__codelineno-10-25 href=#__codelineno-10-25></a><span class=w>        </span><span class=nt>&quot;priority&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>4096</span><span class=p>,</span>
</span><span id=__span-10-26><a id=__codelineno-10-26 name=__codelineno-10-26 href=#__codelineno-10-26></a><span class=w>        </span><span class=nt>&quot;direction&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Inbound&quot;</span>
</span><span id=__span-10-27><a id=__codelineno-10-27 name=__codelineno-10-27 href=#__codelineno-10-27></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-10-28><a id=__codelineno-10-28 name=__codelineno-10-28 href=#__codelineno-10-28></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-10-29><a id=__codelineno-10-29 name=__codelineno-10-29 href=#__codelineno-10-29></a><span class=w>  </span><span class=p>]</span>
</span><span id=__span-10-30><a id=__codelineno-10-30 name=__codelineno-10-30 href=#__codelineno-10-30></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>ğŸ¡ <strong>NSG Security Strategy</strong> </p> <ul> <li>Default deny for all traffic</li> <li>Explicit allow rules for required traffic only</li> <li>Regular review of NSG rules</li> <li>Log and monitor denied traffic</li> </ul> </blockquote> <hr> <h4 id=managed-virtual-network>ğŸ¡ Managed Virtual Network<a class=headerlink href=#managed-virtual-network title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Feature</th> <th>Security Benefit</th> <th>Implementation</th> <th>Risk Mitigation</th> </tr> </thead> <tbody> <tr> <td>ğŸ”’ <strong>Data Exfiltration Protection</strong></td> <td>Prevents unauthorized data export</td> <td>Managed VNet isolation</td> <td><img alt="Very High" src=https://img.shields.io/badge/Risk-Very_High-darkred></td> </tr> <tr> <td>âœ… <strong>Approved Private Endpoints</strong></td> <td>Controls outbound connectivity</td> <td>Whitelist approach</td> <td><img alt=High src=https://img.shields.io/badge/Risk-High-red></td> </tr> <tr> <td>ğŸ“‹ <strong>Network Monitoring</strong></td> <td>Detect suspicious activity</td> <td>Azure Monitor integration</td> <td><img alt=Medium src=https://img.shields.io/badge/Risk-Medium-orange></td> </tr> </tbody> </table> <div class="language-json highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=p>{</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=w>  </span><span class=nt>&quot;managedVirtualNetwork&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>    </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;default&quot;</span><span class=p>,</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>    </span><span class=nt>&quot;preventDataExfiltration&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=w>    </span><span class=nt>&quot;allowedAadTenantIdsForLinking&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=w>      </span><span class=s2>&quot;your-tenant-id&quot;</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=w>    </span><span class=p>]</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=w>  </span><span class=nt>&quot;managedPrivateEndpoints&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=w>      </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;approved-storage-endpoint&quot;</span><span class=p>,</span>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=w>      </span><span class=nt>&quot;privateLinkResourceId&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/subscriptions/&lt;sub-id&gt;/resourceGroups/&lt;rg&gt;/providers/Microsoft.Storage/storageAccounts/&lt;storage&gt;&quot;</span><span class=p>,</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=w>      </span><span class=nt>&quot;groupId&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;blob&quot;</span>
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a><span class=w>  </span><span class=p>]</span>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>ğŸ”’ <strong>Data Exfiltration Protection</strong><br> When enabled, Synapse managed VNet prevents:</p> <ul> <li>Unauthorized data copying to external storage</li> <li>Connections to non-approved private endpoints</li> <li>Data transfer outside approved Azure AD tenants</li> </ul> </blockquote> <hr> <h2 id=secret-management>ğŸ”‘ Secret Management<a class=headerlink href=#secret-management title="Permanent link">&para;</a></h2> <blockquote> <p>ğŸ” <strong>Secure Credential Management</strong><br> Implement centralized, secure credential management using Azure Key Vault integration.</p> </blockquote> <h3 id=azure-key-vault-integration>ğŸ”‘ Azure Key Vault Integration<a class=headerlink href=#azure-key-vault-integration title="Permanent link">&para;</a></h3> <h4 id=secure-credential-storage>ğŸ“„ Secure Credential Storage<a class=headerlink href=#secure-credential-storage title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Secret Type</th> <th>Storage Method</th> <th>Rotation Policy</th> <th>Access Control</th> </tr> </thead> <tbody> <tr> <td>ğŸ“Š <strong>Connection Strings</strong></td> <td>Key Vault secrets</td> <td>Every 90 days</td> <td><img alt=Restricted src=https://img.shields.io/badge/Access-Restricted-red></td> </tr> <tr> <td>ğŸ”‘ <strong>API Keys</strong></td> <td>Key Vault secrets</td> <td>Every 30 days</td> <td><img alt=Service_Principal src=https://img.shields.io/badge/Auth-Service_Principal-blue></td> </tr> <tr> <td>ğŸ“œ <strong>Certificates</strong></td> <td>Key Vault certificates</td> <td>Every 365 days</td> <td><img alt=Managed_Identity src=https://img.shields.io/badge/Auth-Managed_Identity-green></td> </tr> </tbody> </table> <div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1># ğŸ”‘ Secure secret retrieval in Synapse Spark</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=c1># Using Key Vault-backed secret scope</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=n>connection_string</span> <span class=o>=</span> <span class=n>dbutils</span><span class=o>.</span><span class=n>secrets</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>    <span class=n>scope</span><span class=o>=</span><span class=s2>&quot;production-keyvault-scope&quot;</span><span class=p>,</span> 
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>    <span class=n>key</span><span class=o>=</span><span class=s2>&quot;adls-connection-string&quot;</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=p>)</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=c1># Using secrets in Delta Lake operations</span>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=n>df</span><span class=o>.</span><span class=n>write</span> \
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>  <span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s2>&quot;delta&quot;</span><span class=p>)</span> \
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a>  <span class=o>.</span><span class=n>option</span><span class=p>(</span><span class=s2>&quot;checkpointLocation&quot;</span><span class=p>,</span> 
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a>          <span class=sa>f</span><span class=s2>&quot;abfss://container@storage.dfs.core.windows.net/checkpoints/&quot;</span><span class=p>)</span> \
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>  <span class=o>.</span><span class=n>option</span><span class=p>(</span><span class=s2>&quot;fs.azure.account.key.storage.dfs.core.windows.net&quot;</span><span class=p>,</span> 
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>          <span class=n>dbutils</span><span class=o>.</span><span class=n>secrets</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>scope</span><span class=o>=</span><span class=s2>&quot;keyvault-scope&quot;</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=s2>&quot;storage-key&quot;</span><span class=p>))</span> \
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a>  <span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=s2>&quot;/delta/table&quot;</span><span class=p>)</span>
</span></code></pre></div> <blockquote> <p>ğŸ”„ <strong>Key Rotation Best Practices</strong> </p> <ul> <li>Automate rotation using Azure Automation or Logic Apps</li> <li>Implement dual-key strategy for zero-downtime rotation</li> <li>Monitor key usage and expiration dates</li> <li>Test rotation procedures regularly</li> </ul> </blockquote> <hr> <h4 id=secure-parameter-management>ğŸ” Secure Parameter Management<a class=headerlink href=#secure-parameter-management title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Parameter Type</th> <th>Security Method</th> <th>Implementation</th> <th>Risk Level</th> </tr> </thead> <tbody> <tr> <td>ğŸ“Š <strong>Pipeline Parameters</strong></td> <td>Secure string type</td> <td>Azure Synapse pipelines</td> <td><img alt=Low src=https://img.shields.io/badge/Risk-Low-green></td> </tr> <tr> <td>ğŸ”— <strong>Linked Service Credentials</strong></td> <td>Key Vault integration</td> <td>JSON configuration</td> <td><img alt="Very Low" src=https://img.shields.io/badge/Risk-Very_Low-darkgreen></td> </tr> <tr> <td>ğŸŒ <strong>Environment Variables</strong></td> <td>Key Vault references</td> <td>Runtime configuration</td> <td><img alt=Medium src=https://img.shields.io/badge/Risk-Medium-yellow></td> </tr> </tbody> </table> <div class="language-json highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=p>{</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;SecureAzureStorageLinkedService&quot;</span><span class=p>,</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=w>  </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=w>    </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;AzureBlobStorage&quot;</span><span class=p>,</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=w>    </span><span class=nt>&quot;typeProperties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=w>      </span><span class=nt>&quot;connectionString&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a><span class=w>        </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;AzureKeyVaultSecret&quot;</span><span class=p>,</span>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a><span class=w>        </span><span class=nt>&quot;store&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=w>          </span><span class=nt>&quot;referenceName&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ProductionKeyVaultLinkedService&quot;</span><span class=p>,</span>
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a><span class=w>          </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;LinkedServiceReference&quot;</span>
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a><span class=w>        </span><span class=p>},</span>
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a><span class=w>        </span><span class=nt>&quot;secretName&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;prod-storage-connection-string&quot;</span>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13 href=#__codelineno-13-13></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-13-14><a id=__codelineno-13-14 name=__codelineno-13-14 href=#__codelineno-13-14></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-13-15><a id=__codelineno-13-15 name=__codelineno-13-15 href=#__codelineno-13-15></a><span class=w>    </span><span class=nt>&quot;annotations&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;production&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;secure&quot;</span><span class=p>]</span>
</span><span id=__span-13-16><a id=__codelineno-13-16 name=__codelineno-13-16 href=#__codelineno-13-16></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-13-17><a id=__codelineno-13-17 name=__codelineno-13-17 href=#__codelineno-13-17></a><span class=p>}</span>
</span></code></pre></div> <div class="language-json highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=p>{</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ProductionKeyVaultLinkedService&quot;</span><span class=p>,</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=w>  </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=w>    </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;AzureKeyVault&quot;</span><span class=p>,</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=w>    </span><span class=nt>&quot;typeProperties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a><span class=w>      </span><span class=nt>&quot;baseUrl&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;https://prod-synapse-kv.vault.azure.net/&quot;</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a><span class=w>    </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Production Key Vault for secure credential storage&quot;</span>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>ğŸ” <strong>Secure Configuration Pattern</strong> </p> <ol> <li>Store all credentials in Key Vault</li> <li>Reference secrets using linked services</li> <li>Never hardcode credentials in pipelines</li> <li>Use managed identities where possible</li> </ol> </blockquote> <hr> <h2 id=auditing-and-monitoring>ğŸ“ˆ Auditing and Monitoring<a class=headerlink href=#auditing-and-monitoring title="Permanent link">&para;</a></h2> <blockquote> <p>ğŸ” <strong>Security Observability</strong><br> Implement comprehensive logging and monitoring to detect, investigate, and respond to security incidents.</p> </blockquote> <h3 id=comprehensive-audit-strategy>ğŸ“‹ Comprehensive Audit Strategy<a class=headerlink href=#comprehensive-audit-strategy title="Permanent link">&para;</a></h3> <h4 id=advanced-audit-configuration>ğŸ“ˆ Advanced Audit Configuration<a class=headerlink href=#advanced-audit-configuration title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Audit Component</th> <th>Log Categories</th> <th>Retention</th> <th>Compliance Impact</th> </tr> </thead> <tbody> <tr> <td>ğŸ­ <strong>Synapse Workspace</strong></td> <td>RBAC, pipelines, SQL requests</td> <td>90 days minimum</td> <td><img alt=Required src=https://img.shields.io/badge/Compliance-Required-red></td> </tr> <tr> <td>ğŸ“Š <strong>SQL Pools</strong></td> <td>DDL, DML, login events</td> <td>1 year recommended</td> <td><img alt=Critical src=https://img.shields.io/badge/Priority-Critical-darkred></td> </tr> <tr> <td>ğŸ”¥ <strong>Spark Pools</strong></td> <td>Job execution, data access</td> <td>90 days minimum</td> <td><img alt=Important src=https://img.shields.io/badge/Priority-Important-orange></td> </tr> </tbody> </table> <div class="language-json highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=p>{</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;synapse-diagnostic-settings&quot;</span><span class=p>,</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=w>  </span><span class=nt>&quot;properties&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=w>    </span><span class=nt>&quot;workspaceId&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/subscriptions/&lt;sub&gt;/resourceGroups/&lt;rg&gt;/providers/microsoft.operationalinsights/workspaces/&lt;law&gt;&quot;</span><span class=p>,</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=w>    </span><span class=nt>&quot;logs&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a><span class=w>        </span><span class=nt>&quot;category&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;SynapseRbacOperations&quot;</span><span class=p>,</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a><span class=w>        </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=w>        </span><span class=nt>&quot;retentionPolicy&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;days&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>365</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>}</span>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a><span class=w>      </span><span class=p>},</span>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=w>        </span><span class=nt>&quot;category&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;GatewayApiRequests&quot;</span><span class=p>,</span>
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a><span class=w>        </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-15-14><a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a><span class=w>        </span><span class=nt>&quot;retentionPolicy&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;days&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>90</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>}</span>
</span><span id=__span-15-15><a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a><span class=w>      </span><span class=p>},</span>
</span><span id=__span-15-16><a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a><span class=w>      </span><span class=p>{</span>
</span><span id=__span-15-17><a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a><span class=w>        </span><span class=nt>&quot;category&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;BuiltinSqlReqsEnded&quot;</span><span class=p>,</span>
</span><span id=__span-15-18><a id=__codelineno-15-18 name=__codelineno-15-18 href=#__codelineno-15-18></a><span class=w>        </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-15-19><a id=__codelineno-15-19 name=__codelineno-15-19 href=#__codelineno-15-19></a><span class=w>        </span><span class=nt>&quot;retentionPolicy&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=nt>&quot;days&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>365</span><span class=p>,</span><span class=w> </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>}</span>
</span><span id=__span-15-20><a id=__codelineno-15-20 name=__codelineno-15-20 href=#__codelineno-15-20></a><span class=w>      </span><span class=p>}</span>
</span><span id=__span-15-21><a id=__codelineno-15-21 name=__codelineno-15-21 href=#__codelineno-15-21></a><span class=w>    </span><span class=p>]</span>
</span><span id=__span-15-22><a id=__codelineno-15-22 name=__codelineno-15-22 href=#__codelineno-15-22></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-15-23><a id=__codelineno-15-23 name=__codelineno-15-23 href=#__codelineno-15-23></a><span class=p>}</span>
</span></code></pre></div> <div class="language-sql highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=c1>-- ğŸ“ˆ SQL Pool Auditing Configuration</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=n>CRETE</span><span class=w> </span><span class=n>SERVER</span><span class=w> </span><span class=n>AUDIT</span><span class=w> </span><span class=p>[</span><span class=n>SynapseSecurityAudit</span><span class=p>]</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=k>TO</span><span class=w> </span><span class=n>BLOB_STORAGE</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=w>    </span><span class=n>STORAGE_ENDPOINT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;https://auditlogs.blob.core.windows.net/&#39;</span><span class=p>,</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=w>    </span><span class=n>STORAGE_ACCOUNT_ACCESS_KEY</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;&lt;stored-in-key-vault&gt;&#39;</span><span class=p>,</span>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=w>    </span><span class=n>RETENTION_DAYS</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>365</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a><span class=p>)</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a><span class=k>WITH</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a><span class=w>    </span><span class=n>QUEUE_DELAY</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1000</span><span class=p>,</span>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a><span class=w>    </span><span class=n>ON_FAILURE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>CONTINUE</span><span class=p>,</span>
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a><span class=w>    </span><span class=n>AUDIT_GUID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>NEWID</span><span class=p>()</span>
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a><span class=p>);</span>
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a>
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a><span class=c1>-- Enable audit for specific actions</span>
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a><span class=k>CREATE</span><span class=w> </span><span class=n>SERVER</span><span class=w> </span><span class=n>AUDIT</span><span class=w> </span><span class=n>SPECIFICATION</span><span class=w> </span><span class=p>[</span><span class=n>SynapseAuditSpec</span><span class=p>]</span>
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a><span class=k>FOR</span><span class=w> </span><span class=n>SERVER</span><span class=w> </span><span class=n>AUDIT</span><span class=w> </span><span class=p>[</span><span class=n>SynapseSecurityAudit</span><span class=p>]</span>
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a><span class=k>ADD</span><span class=w> </span><span class=p>(</span><span class=n>SUCCESSFUL_LOGIN_GROUP</span><span class=p>),</span>
</span><span id=__span-16-18><a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a><span class=k>ADD</span><span class=w> </span><span class=p>(</span><span class=n>FAILED_LOGIN_GROUP</span><span class=p>),</span>
</span><span id=__span-16-19><a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a><span class=k>ADD</span><span class=w> </span><span class=p>(</span><span class=n>DATABASE_ROLE_MEMBER_CHANGE_GROUP</span><span class=p>)</span>
</span><span id=__span-16-20><a id=__codelineno-16-20 name=__codelineno-16-20 href=#__codelineno-16-20></a><span class=k>WITH</span><span class=w> </span><span class=p>(</span><span class=k>STATE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>ON</span><span class=p>);</span>
</span></code></pre></div> <blockquote> <p>ğŸ” <strong>Advanced Threat Protection Features</strong> </p> <ul> <li><strong>SQL Injection Detection</strong>: Identify potential injection attacks</li> <li><strong>Anomalous Database Access</strong>: Detect unusual access patterns</li> <li><strong>Potentially Harmful Application</strong>: Monitor suspicious applications</li> <li><strong>Brute Force Attacks</strong>: Detect password attack attempts</li> </ul> </blockquote> <hr> <h4 id=security-monitoring-and-response>ğŸš¨ Security Monitoring and Response<a class=headerlink href=#security-monitoring-and-response title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Monitoring Tool</th> <th>Purpose</th> <th>Detection Capability</th> <th>Response Time</th> </tr> </thead> <tbody> <tr> <td>ğŸ›¡ï¸ <strong>Azure Security Center</strong></td> <td>Vulnerability assessment</td> <td><img alt=High src=https://img.shields.io/badge/Detection-High-green></td> <td><img alt=Manual src=https://img.shields.io/badge/Response-Manual-blue></td> </tr> <tr> <td>ğŸ” <strong>Azure Sentinel</strong></td> <td>SIEM and SOAR capabilities</td> <td><img alt="Very High" src=https://img.shields.io/badge/Detection-Very_High-darkgreen></td> <td><img alt=Automated src=https://img.shields.io/badge/Response-Automated-green></td> </tr> <tr> <td>ğŸš¨ <strong>Security Alerts</strong></td> <td>Real-time incident notification</td> <td><img alt=Medium src=https://img.shields.io/badge/Detection-Medium-yellow></td> <td><img alt=Immediate src=https://img.shields.io/badge/Response-Immediate-darkgreen></td> </tr> </tbody> </table> <div class="language-kusto highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c>// ğŸ” Azure Sentinel - Synapse suspicious activity query</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=n>SynapseSqlPoolExecRequests</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=p>|</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>TimeGenerated</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=n>ago</span><span class=p>(</span><span class=mi>1</span><span class=n>d</span><span class=p>)</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=p>|</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>Command</span><span class=w> </span><span class=k>contains</span><span class=w> </span><span class=s>&quot;DROP&quot;</span><span class=w> </span><span class=k>or</span><span class=w> </span><span class=n>Command</span><span class=w> </span><span class=k>contains</span><span class=w> </span><span class=s>&quot;DELETE&quot;</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a><span class=p>|</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>Identity</span><span class=w> </span><span class=err>!</span><span class=n>in</span><span class=w> </span><span class=p>(</span><span class=s>&quot;service-account@company.com&quot;</span><span class=p>)</span>
</span><span id=__span-17-6><a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a><span class=p>|</span><span class=w> </span><span class=k>project</span><span class=w> </span><span class=n>TimeGenerated</span><span class=p>,</span><span class=w> </span><span class=n>Identity</span><span class=p>,</span><span class=w> </span><span class=n>Command</span><span class=p>,</span><span class=w> </span><span class=n>Database</span><span class=p>,</span><span class=w> </span><span class=n>ClientIP</span>
</span><span id=__span-17-7><a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a><span class=p>|</span><span class=w> </span><span class=k>summarize</span><span class=w> </span><span class=n>Count</span><span class=w> </span><span class=p>=</span><span class=w> </span><span class=k>count</span><span class=p>()</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>Identity</span><span class=p>,</span><span class=w> </span><span class=n>ClientIP</span>
</span><span id=__span-17-8><a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a><span class=p>|</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>Count</span><span class=w> </span><span class=p>&gt;</span><span class=w> </span><span class=mi>10</span>
</span><span id=__span-17-9><a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a><span class=p>|</span><span class=w> </span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>Count</span><span class=w> </span><span class=n>desc</span>
</span></code></pre></div> <div class="language-powershell highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=c># ğŸš¨ Configure security alerts for anomalous activities</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=nv>$alertRule</span> <span class=p>=</span> <span class=p>@{</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>    <span class=n>name</span> <span class=p>=</span> <span class=s2>&quot;SynapseAnomalousLogin&quot;</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>    <span class=n>description</span> <span class=p>=</span> <span class=s2>&quot;Detect suspicious login patterns to Synapse&quot;</span>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>    <span class=n>severity</span> <span class=p>=</span> <span class=s2>&quot;High&quot;</span>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>    <span class=n>query</span> <span class=p>=</span> <span class=sh>@&quot;</span>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=sh>        SigninLogs</span>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a><span class=sh>        | where TimeGenerated &gt; ago(1h)</span>
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a><span class=sh>        | where AppDisplayName contains &quot;Synapse&quot;</span>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a><span class=sh>        | where ResultType != &quot;0&quot;</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a><span class=sh>        | summarize FailedAttempts = count() by UserPrincipalName, IPAddress</span>
</span><span id=__span-18-12><a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a><span class=sh>        | where FailedAttempts &gt; 5</span>
</span><span id=__span-18-13><a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a><span class=sh>    &quot;@</span>
</span><span id=__span-18-14><a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a><span class=sh>    frequency = &quot;PT5M&quot;</span>
</span><span id=__span-18-15><a id=__codelineno-18-15 name=__codelineno-18-15 href=#__codelineno-18-15></a><span class=sh>    timeWindow = &quot;PT1H&quot;</span>
</span><span id=__span-18-16><a id=__codelineno-18-16 name=__codelineno-18-16 href=#__codelineno-18-16></a><span class=sh>}</span>
</span><span id=__span-18-17><a id=__codelineno-18-17 name=__codelineno-18-17 href=#__codelineno-18-17></a>
</span><span id=__span-18-18><a id=__codelineno-18-18 name=__codelineno-18-18 href=#__codelineno-18-18></a><span class=sh>New-AzSentinelAlertRule @alertRule</span>
</span></code></pre></div> <blockquote> <p>ğŸš¨ <strong>Security Incident Response Plan</strong> </p> <ol> <li><strong>Detection</strong>: Automated alerts and monitoring</li> <li><strong>Investigation</strong>: Use Sentinel workbooks for analysis</li> <li><strong>Containment</strong>: Disable accounts, block IPs</li> <li><strong>Eradication</strong>: Remove threat, patch vulnerabilities</li> <li><strong>Recovery</strong>: Restore services, monitor for reoccurrence</li> <li><strong>Lessons Learned</strong>: Update procedures and controls</li> </ol> </blockquote> <hr> <h2 id=compliance-and-governance>ğŸ“‹ Compliance and Governance<a class=headerlink href=#compliance-and-governance title="Permanent link">&para;</a></h2> <blockquote> <p>ğŸ›ï¸ <strong>Regulatory Excellence</strong><br> Implement comprehensive governance frameworks to meet regulatory requirements and maintain data integrity.</p> </blockquote> <h3 id=data-governance-framework>ğŸ  Data Governance Framework<a class=headerlink href=#data-governance-framework title="Permanent link">&para;</a></h3> <h4 id=data-lineage-and-discovery>ğŸ—ºï¸ Data Lineage and Discovery<a class=headerlink href=#data-lineage-and-discovery title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Governance Component</th> <th>Tool</th> <th>Capability</th> <th>Compliance Benefit</th> </tr> </thead> <tbody> <tr> <td>ğŸ” <strong>Data Discovery</strong></td> <td>Azure Purview</td> <td>Automated data classification</td> <td><img alt=High src=https://img.shields.io/badge/Benefit-High-green></td> </tr> <tr> <td>ğŸ—ºï¸ <strong>Data Lineage</strong></td> <td>Purview + Synapse integration</td> <td>End-to-end data tracking</td> <td><img alt="Very High" src=https://img.shields.io/badge/Benefit-Very_High-darkgreen></td> </tr> <tr> <td>ğŸ“‹ <strong>Metadata Management</strong></td> <td>Purview Data Catalog</td> <td>Centralized metadata repository</td> <td><img alt=Medium src=https://img.shields.io/badge/Benefit-Medium-yellow></td> </tr> </tbody> </table> <div class="language-json highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=p>{</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=w>  </span><span class=nt>&quot;purviewIntegration&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=w>    </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=w>    </span><span class=nt>&quot;purviewResourceId&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;/subscriptions/&lt;sub&gt;/resourceGroups/&lt;rg&gt;/providers/Microsoft.Purview/accounts/&lt;purview&gt;&quot;</span><span class=p>,</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=w>    </span><span class=nt>&quot;managedIdentity&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a><span class=w>      </span><span class=nt>&quot;type&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;SystemAssigned&quot;</span>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a><span class=w>  </span><span class=nt>&quot;dataLineage&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a><span class=w>    </span><span class=nt>&quot;captureMode&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Automatic&quot;</span><span class=p>,</span>
</span><span id=__span-19-11><a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a><span class=w>    </span><span class=nt>&quot;includeSystemMetadata&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-19-12><a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-19-13><a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>ğŸ” <strong>Data Classification Strategy</strong> </p> <ul> <li><strong>Public</strong>: No restrictions (marketing data)</li> <li><strong>Internal</strong>: Company confidential (business metrics)</li> <li><strong>Confidential</strong>: Restricted access (customer PII)</li> <li><strong>Restricted</strong>: Highest protection (financial, health data)</li> </ul> </blockquote> <hr> <h4 id=regulatory-compliance-controls>ğŸ“‹ Regulatory Compliance Controls<a class=headerlink href=#regulatory-compliance-controls title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Compliance Framework</th> <th>Requirements</th> <th>Implementation</th> <th>Audit Frequency</th> </tr> </thead> <tbody> <tr> <td>ğŸŒ <strong>GDPR</strong></td> <td>Data subject rights, consent management</td> <td>Privacy controls, data masking</td> <td><img alt=Quarterly src=https://img.shields.io/badge/Audit-Quarterly-blue></td> </tr> <tr> <td>ğŸ¥ <strong>HIPAA</strong></td> <td>PHI protection, access logging</td> <td>Encryption, audit trails</td> <td><img alt=Monthly src=https://img.shields.io/badge/Audit-Monthly-orange></td> </tr> <tr> <td>ğŸ’¼ <strong>SOX</strong></td> <td>Financial data controls, change management</td> <td>Segregation of duties, approval workflows</td> <td><img alt=Annual src=https://img.shields.io/badge/Audit-Annual-green></td> </tr> </tbody> </table> <div class="language-sql highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=c1>-- ğŸ—ºï¸ Data retention policies for compliance</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>customer_data</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>TBLPROPERTIES</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=w>  </span><span class=c1>-- GDPR: Right to be forgotten (7 years)</span>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=w>  </span><span class=s1>&#39;delta.logRetentionDuration&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;interval 2555 days&#39;</span><span class=p>,</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a><span class=w>  </span><span class=c1>-- Operational efficiency (30 days for deleted files)</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a><span class=w>  </span><span class=s1>&#39;delta.deletedFileRetentionDuration&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;interval 30 days&#39;</span><span class=p>,</span>
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a>
</span><span id=__span-20-9><a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a><span class=w>  </span><span class=c1>-- Compliance metadata</span>
</span><span id=__span-20-10><a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a><span class=w>  </span><span class=s1>&#39;compliance.framework&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;GDPR&#39;</span><span class=p>,</span>
</span><span id=__span-20-11><a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a><span class=w>  </span><span class=s1>&#39;compliance.dataClassification&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;PersonalData&#39;</span><span class=p>,</span>
</span><span id=__span-20-12><a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a><span class=w>  </span><span class=s1>&#39;compliance.retentionPeriod&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;7years&#39;</span>
</span><span id=__span-20-13><a id=__codelineno-20-13 name=__codelineno-20-13 href=#__codelineno-20-13></a><span class=p>);</span>
</span><span id=__span-20-14><a id=__codelineno-20-14 name=__codelineno-20-14 href=#__codelineno-20-14></a>
</span><span id=__span-20-15><a id=__codelineno-20-15 name=__codelineno-20-15 href=#__codelineno-20-15></a><span class=c1>-- HIPAA-compliant table for healthcare data</span>
</span><span id=__span-20-16><a id=__codelineno-20-16 name=__codelineno-20-16 href=#__codelineno-20-16></a><span class=k>ALTER</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>patient_records</span><span class=w> </span><span class=k>SET</span><span class=w> </span><span class=n>TBLPROPERTIES</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-20-17><a id=__codelineno-20-17 name=__codelineno-20-17 href=#__codelineno-20-17></a><span class=w>  </span><span class=s1>&#39;delta.logRetentionDuration&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;interval 2190 days&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>-- 6 years</span>
</span><span id=__span-20-18><a id=__codelineno-20-18 name=__codelineno-20-18 href=#__codelineno-20-18></a><span class=w>  </span><span class=s1>&#39;compliance.framework&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;HIPAA&#39;</span><span class=p>,</span>
</span><span id=__span-20-19><a id=__codelineno-20-19 name=__codelineno-20-19 href=#__codelineno-20-19></a><span class=w>  </span><span class=s1>&#39;compliance.dataType&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;PHI&#39;</span><span class=p>,</span>
</span><span id=__span-20-20><a id=__codelineno-20-20 name=__codelineno-20-20 href=#__codelineno-20-20></a><span class=w>  </span><span class=s1>&#39;compliance.encryptionRequired&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;true&#39;</span>
</span><span id=__span-20-21><a id=__codelineno-20-21 name=__codelineno-20-21 href=#__codelineno-20-21></a><span class=p>);</span>
</span></code></pre></div> <blockquote> <p>ğŸ—ºï¸ <strong>Data Residency Compliance</strong> </p> <div class="language-json highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=p>{</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=w>  </span><span class=nt>&quot;geoReplication&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-3><a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=w>    </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
</span><span id=__span-21-4><a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a><span class=w>    </span><span class=nt>&quot;allowedRegions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;East US 2&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;Central US&quot;</span><span class=p>],</span>
</span><span id=__span-21-5><a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=w>    </span><span class=nt>&quot;dataResidencyCompliance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;US-Only&quot;</span>
</span><span id=__span-21-6><a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-21-7><a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a><span class=w>  </span><span class=nt>&quot;crossBorderDataTransfer&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-21-8><a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a><span class=w>    </span><span class=nt>&quot;enabled&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=p>,</span>
</span><span id=__span-21-9><a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a><span class=w>    </span><span class=nt>&quot;approvalRequired&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-21-10><a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-21-11><a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a><span class=p>}</span>
</span></code></pre></div> </blockquote> <hr> <h2 id=security-devops-secdevops>ğŸš€ Security DevOps (SecDevOps)<a class=headerlink href=#security-devops-secdevops title="Permanent link">&para;</a></h2> <blockquote> <p>ğŸ”’ <strong>Shift-Left Security</strong><br> Integrate security controls throughout the development lifecycle for continuous security validation.</p> </blockquote> <h3 id=security-integrated-cicd>ğŸ”„ Security-Integrated CI/CD<a class=headerlink href=#security-integrated-cicd title="Permanent link">&para;</a></h3> <h4 id=secure-deployment-pipeline>ğŸ—ï¸ Secure Deployment Pipeline<a class=headerlink href=#secure-deployment-pipeline title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Pipeline Stage</th> <th>Security Control</th> <th>Implementation</th> <th>Automation Level</th> </tr> </thead> <tbody> <tr> <td>ğŸ“‹ <strong>Code Commit</strong></td> <td>Static analysis, credential scanning</td> <td>GitHub Advanced Security</td> <td><img alt=Automated src=https://img.shields.io/badge/Level-Automated-green></td> </tr> <tr> <td>ğŸ—ï¸ <strong>Infrastructure</strong></td> <td>Template validation, policy compliance</td> <td>Azure Policy, Bicep</td> <td><img alt=Automated src=https://img.shields.io/badge/Level-Automated-green></td> </tr> <tr> <td>ğŸ§ª <strong>Testing</strong></td> <td>Security testing, vulnerability scanning</td> <td>Automated test suites</td> <td><img alt=Semi_Automated src=https://img.shields.io/badge/Level-Semi_Automated-yellow></td> </tr> <tr> <td>ğŸš€ <strong>Deployment</strong></td> <td>Secure configuration, access validation</td> <td>ARM templates, RBAC</td> <td><img alt=Manual src=https://img.shields.io/badge/Level-Manual-orange></td> </tr> </tbody> </table> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=c1># ğŸš€ Azure DevOps pipeline with security controls</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SecureSynapseDeployment</span>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=nt>trigger</span><span class=p>:</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a><span class=w>  </span><span class=nt>branches</span><span class=p>:</span>
</span><span id=__span-22-6><a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a><span class=w>    </span><span class=nt>include</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>main</span><span class="p p-Indicator">]</span>
</span><span id=__span-22-7><a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a>
</span><span id=__span-22-8><a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a><span class=nt>stages</span><span class=p>:</span>
</span><span id=__span-22-9><a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>stage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SecurityScan</span>
</span><span id=__span-22-10><a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a><span class=w>  </span><span class=nt>displayName</span><span class=p>:</span><span class=w> </span><span class=s>&#39;Security</span><span class=nv> </span><span class=s>Validation&#39;</span>
</span><span id=__span-22-11><a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a><span class=w>  </span><span class=nt>jobs</span><span class=p>:</span>
</span><span id=__span-22-12><a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>job</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">StaticAnalysis</span>
</span><span id=__span-22-13><a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a><span class=w>    </span><span class=nt>steps</span><span class=p>:</span>
</span><span id=__span-22-14><a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>task</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">CredScan@3</span>
</span><span id=__span-22-15><a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a><span class=w>      </span><span class=nt>displayName</span><span class=p>:</span><span class=w> </span><span class=s>&#39;Credential</span><span class=nv> </span><span class=s>Scanner&#39;</span>
</span><span id=__span-22-16><a id=__codelineno-22-16 name=__codelineno-22-16 href=#__codelineno-22-16></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>task</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SdtReport@2</span>
</span><span id=__span-22-17><a id=__codelineno-22-17 name=__codelineno-22-17 href=#__codelineno-22-17></a><span class=w>      </span><span class=nt>displayName</span><span class=p>:</span><span class=w> </span><span class=s>&#39;Security</span><span class=nv> </span><span class=s>Analysis</span><span class=nv> </span><span class=s>Report&#39;</span>
</span><span id=__span-22-18><a id=__codelineno-22-18 name=__codelineno-22-18 href=#__codelineno-22-18></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>task</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">AzurePolicyCheck@1</span>
</span><span id=__span-22-19><a id=__codelineno-22-19 name=__codelineno-22-19 href=#__codelineno-22-19></a><span class=w>      </span><span class=nt>displayName</span><span class=p>:</span><span class=w> </span><span class=s>&#39;Policy</span><span class=nv> </span><span class=s>Compliance</span><span class=nv> </span><span class=s>Check&#39;</span>
</span><span id=__span-22-20><a id=__codelineno-22-20 name=__codelineno-22-20 href=#__codelineno-22-20></a>
</span><span id=__span-22-21><a id=__codelineno-22-21 name=__codelineno-22-21 href=#__codelineno-22-21></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>stage</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Deploy</span>
</span><span id=__span-22-22><a id=__codelineno-22-22 name=__codelineno-22-22 href=#__codelineno-22-22></a><span class=w>  </span><span class=nt>displayName</span><span class=p>:</span><span class=w> </span><span class=s>&#39;Secure</span><span class=nv> </span><span class=s>Deployment&#39;</span>
</span><span id=__span-22-23><a id=__codelineno-22-23 name=__codelineno-22-23 href=#__codelineno-22-23></a><span class=w>  </span><span class=nt>dependsOn</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">SecurityScan</span>
</span><span id=__span-22-24><a id=__codelineno-22-24 name=__codelineno-22-24 href=#__codelineno-22-24></a><span class=w>  </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">succeeded()</span>
</span><span id=__span-22-25><a id=__codelineno-22-25 name=__codelineno-22-25 href=#__codelineno-22-25></a><span class=w>  </span><span class=nt>jobs</span><span class=p>:</span>
</span><span id=__span-22-26><a id=__codelineno-22-26 name=__codelineno-22-26 href=#__codelineno-22-26></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>job</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DeployInfrastructure</span>
</span><span id=__span-22-27><a id=__codelineno-22-27 name=__codelineno-22-27 href=#__codelineno-22-27></a><span class=w>    </span><span class=nt>steps</span><span class=p>:</span>
</span><span id=__span-22-28><a id=__codelineno-22-28 name=__codelineno-22-28 href=#__codelineno-22-28></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>task</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">AzureResourceManagerTemplateDeployment@3</span>
</span><span id=__span-22-29><a id=__codelineno-22-29 name=__codelineno-22-29 href=#__codelineno-22-29></a><span class=w>      </span><span class=nt>inputs</span><span class=p>:</span>
</span><span id=__span-22-30><a id=__codelineno-22-30 name=__codelineno-22-30 href=#__codelineno-22-30></a><span class=w>        </span><span class=nt>azureResourceManagerConnection</span><span class=p>:</span><span class=w> </span><span class=s>&#39;$(serviceConnection)&#39;</span>
</span><span id=__span-22-31><a id=__codelineno-22-31 name=__codelineno-22-31 href=#__codelineno-22-31></a><span class=w>        </span><span class=nt>resourceGroupName</span><span class=p>:</span><span class=w> </span><span class=s>&#39;$(resourceGroup)&#39;</span>
</span><span id=__span-22-32><a id=__codelineno-22-32 name=__codelineno-22-32 href=#__codelineno-22-32></a><span class=w>        </span><span class=nt>location</span><span class=p>:</span><span class=w> </span><span class=s>&#39;$(location)&#39;</span>
</span><span id=__span-22-33><a id=__codelineno-22-33 name=__codelineno-22-33 href=#__codelineno-22-33></a><span class=w>        </span><span class=nt>csmFile</span><span class=p>:</span><span class=w> </span><span class=s>&#39;templates/synapse-secure.bicep&#39;</span>
</span><span id=__span-22-34><a id=__codelineno-22-34 name=__codelineno-22-34 href=#__codelineno-22-34></a><span class=w>        </span><span class=nt>overrideParameters</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-22-35><a id=__codelineno-22-35 name=__codelineno-22-35 href=#__codelineno-22-35></a><span class=w>          </span><span class=no>-workspaceName $(workspaceName)</span>
</span><span id=__span-22-36><a id=__codelineno-22-36 name=__codelineno-22-36 href=#__codelineno-22-36></a><span class=w>          </span><span class=no>-enablePrivateLink true</span>
</span><span id=__span-22-37><a id=__codelineno-22-37 name=__codelineno-22-37 href=#__codelineno-22-37></a><span class=w>          </span><span class=no>-enableManagedVNet true</span>
</span><span id=__span-22-38><a id=__codelineno-22-38 name=__codelineno-22-38 href=#__codelineno-22-38></a><span class=w>          </span><span class=no>-enableDataExfiltrationProtection true</span>
</span></code></pre></div> <blockquote> <p>ğŸ”’ <strong>Security Gate Criteria</strong> </p> <ul> <li>Zero high-severity vulnerabilities</li> <li>No exposed credentials or secrets</li> <li>All security policies compliant</li> <li>Encryption enabled for all data stores</li> </ul> </blockquote> <hr> <h4 id=security-posture-management>ğŸ›¡ï¸ Security Posture Management<a class=headerlink href=#security-posture-management title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Management Activity</th> <th>Frequency</th> <th>Automation</th> <th>Responsibility</th> </tr> </thead> <tbody> <tr> <td>ğŸ” <strong>Security Assessment</strong></td> <td>Monthly</td> <td><img alt=Automated src=https://img.shields.io/badge/Type-Automated-green></td> <td>Security team</td> </tr> <tr> <td>ğŸ› ï¸ <strong>Vulnerability Scanning</strong></td> <td>Weekly</td> <td><img alt=Automated src=https://img.shields.io/badge/Type-Automated-green></td> <td>DevOps team</td> </tr> <tr> <td>ğŸ“ˆ <strong>Security Metrics</strong></td> <td>Daily</td> <td><img alt=Automated src=https://img.shields.io/badge/Type-Automated-green></td> <td>Monitoring system</td> </tr> <tr> <td>ğŸ“‹ <strong>Compliance Review</strong></td> <td>Quarterly</td> <td><img alt=Manual src=https://img.shields.io/badge/Type-Manual-orange></td> <td>Compliance team</td> </tr> </tbody> </table> <div class="language-powershell highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=c># ğŸ“ˆ Automated security posture assessment</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=nv>$securityBaseline</span> <span class=p>=</span> <span class=p>@{</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a>    <span class=s2>&quot;encryption&quot;</span> <span class=p>=</span> <span class=p>@{</span>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a>        <span class=s2>&quot;atRest&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a>        <span class=s2>&quot;inTransit&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-6><a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a>        <span class=s2>&quot;customerManagedKeys&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-7><a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a>    <span class=p>}</span>
</span><span id=__span-23-8><a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a>    <span class=s2>&quot;networking&quot;</span> <span class=p>=</span> <span class=p>@{</span>
</span><span id=__span-23-9><a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a>        <span class=s2>&quot;privateEndpoints&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-10><a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a>        <span class=s2>&quot;managedVNet&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-11><a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a>        <span class=s2>&quot;publicAccess&quot;</span> <span class=p>=</span> <span class=nv>$false</span>
</span><span id=__span-23-12><a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a>    <span class=p>}</span>
</span><span id=__span-23-13><a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a>    <span class=s2>&quot;access&quot;</span> <span class=p>=</span> <span class=p>@{</span>
</span><span id=__span-23-14><a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a>        <span class=s2>&quot;aadOnlyAuth&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-15><a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a>        <span class=s2>&quot;mfaRequired&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-16><a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a>        <span class=s2>&quot;rbacEnabled&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-17><a id=__codelineno-23-17 name=__codelineno-23-17 href=#__codelineno-23-17></a>    <span class=p>}</span>
</span><span id=__span-23-18><a id=__codelineno-23-18 name=__codelineno-23-18 href=#__codelineno-23-18></a>    <span class=s2>&quot;monitoring&quot;</span> <span class=p>=</span> <span class=p>@{</span>
</span><span id=__span-23-19><a id=__codelineno-23-19 name=__codelineno-23-19 href=#__codelineno-23-19></a>        <span class=s2>&quot;auditingEnabled&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-20><a id=__codelineno-23-20 name=__codelineno-23-20 href=#__codelineno-23-20></a>        <span class=s2>&quot;advancedThreatProtection&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-21><a id=__codelineno-23-21 name=__codelineno-23-21 href=#__codelineno-23-21></a>        <span class=s2>&quot;diagnosticLogging&quot;</span> <span class=p>=</span> <span class=nv>$true</span>
</span><span id=__span-23-22><a id=__codelineno-23-22 name=__codelineno-23-22 href=#__codelineno-23-22></a>    <span class=p>}</span>
</span><span id=__span-23-23><a id=__codelineno-23-23 name=__codelineno-23-23 href=#__codelineno-23-23></a><span class=p>}</span>
</span><span id=__span-23-24><a id=__codelineno-23-24 name=__codelineno-23-24 href=#__codelineno-23-24></a>
</span><span id=__span-23-25><a id=__codelineno-23-25 name=__codelineno-23-25 href=#__codelineno-23-25></a><span class=c># Validate current security posture against baseline</span>
</span><span id=__span-23-26><a id=__codelineno-23-26 name=__codelineno-23-26 href=#__codelineno-23-26></a><span class=k>function</span> <span class=nb>Test-SynapseSecurityPosture</span> <span class=p>{</span>
</span><span id=__span-23-27><a id=__codelineno-23-27 name=__codelineno-23-27 href=#__codelineno-23-27></a>    <span class=k>param</span><span class=p>(</span><span class=nv>$WorkspaceName</span><span class=p>,</span> <span class=nv>$ResourceGroupName</span><span class=p>)</span>
</span><span id=__span-23-28><a id=__codelineno-23-28 name=__codelineno-23-28 href=#__codelineno-23-28></a>
</span><span id=__span-23-29><a id=__codelineno-23-29 name=__codelineno-23-29 href=#__codelineno-23-29></a>    <span class=nv>$workspace</span> <span class=p>=</span> <span class=nb>Get-AzSynapseWorkspace</span> <span class=n>-Name</span> <span class=nv>$WorkspaceName</span> <span class=n>-ResourceGroupName</span> <span class=nv>$ResourceGroupName</span>
</span><span id=__span-23-30><a id=__codelineno-23-30 name=__codelineno-23-30 href=#__codelineno-23-30></a>    <span class=nv>$violations</span> <span class=p>=</span> <span class=p>@()</span>
</span><span id=__span-23-31><a id=__codelineno-23-31 name=__codelineno-23-31 href=#__codelineno-23-31></a>
</span><span id=__span-23-32><a id=__codelineno-23-32 name=__codelineno-23-32 href=#__codelineno-23-32></a>    <span class=k>if</span> <span class=p>(</span><span class=o>-not</span> <span class=nv>$workspace</span><span class=p>.</span><span class=n>Encryption</span><span class=p>.</span><span class=n>CustomerManagedKeyDetails</span><span class=p>)</span> <span class=p>{</span>
</span><span id=__span-23-33><a id=__codelineno-23-33 name=__codelineno-23-33 href=#__codelineno-23-33></a>        <span class=nv>$violations</span> <span class=p>+=</span> <span class=s2>&quot;Customer-managed encryption not enabled&quot;</span>
</span><span id=__span-23-34><a id=__codelineno-23-34 name=__codelineno-23-34 href=#__codelineno-23-34></a>    <span class=p>}</span>
</span><span id=__span-23-35><a id=__codelineno-23-35 name=__codelineno-23-35 href=#__codelineno-23-35></a>
</span><span id=__span-23-36><a id=__codelineno-23-36 name=__codelineno-23-36 href=#__codelineno-23-36></a>    <span class=k>if</span> <span class=p>(</span><span class=nv>$workspace</span><span class=p>.</span><span class=n>PublicNetworkAccess</span> <span class=o>-eq</span> <span class=s2>&quot;Enabled&quot;</span><span class=p>)</span> <span class=p>{</span>
</span><span id=__span-23-37><a id=__codelineno-23-37 name=__codelineno-23-37 href=#__codelineno-23-37></a>        <span class=nv>$violations</span> <span class=p>+=</span> <span class=s2>&quot;Public network access is enabled&quot;</span>
</span><span id=__span-23-38><a id=__codelineno-23-38 name=__codelineno-23-38 href=#__codelineno-23-38></a>    <span class=p>}</span>
</span><span id=__span-23-39><a id=__codelineno-23-39 name=__codelineno-23-39 href=#__codelineno-23-39></a>
</span><span id=__span-23-40><a id=__codelineno-23-40 name=__codelineno-23-40 href=#__codelineno-23-40></a>    <span class=k>return</span> <span class=nv>$violations</span>
</span><span id=__span-23-41><a id=__codelineno-23-41 name=__codelineno-23-41 href=#__codelineno-23-41></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>ğŸ“ˆ <strong>Security Metrics Dashboard</strong> </p> <ul> <li><strong>Security Score</strong>: Overall security posture (0-100)</li> <li><strong>Vulnerability Count</strong>: High/Medium/Low severity issues</li> <li><strong>Compliance Status</strong>: % compliant with security policies</li> <li><strong>Incident Response Time</strong>: Average time to resolution</li> </ul> </blockquote> <hr> <h2 id=security-excellence-summary>ğŸ† Security Excellence Summary<a class=headerlink href=#security-excellence-summary title="Permanent link">&para;</a></h2> <blockquote> <p>ğŸ¡ <strong>Defense-in-Depth Achieved</strong><br> Implementing a comprehensive security strategy requires coordinated controls across all architectural layers.</p> </blockquote> <h3 id=security-implementation-checklist>ğŸ“‹ Security Implementation Checklist<a class=headerlink href=#security-implementation-checklist title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Security Layer</th> <th>Implementation Status</th> <th>Key Controls</th> <th>Risk Mitigation</th> </tr> </thead> <tbody> <tr> <td>âœ… <strong>Identity &amp; Access</strong></td> <td>Complete</td> <td>AAD, MFA, RBAC, Conditional Access</td> <td><img alt="Very High" src=https://img.shields.io/badge/Mitigation-Very_High-darkgreen></td> </tr> <tr> <td>âœ… <strong>Data Protection</strong></td> <td>Complete</td> <td>Encryption, Classification, Masking</td> <td><img alt=High src=https://img.shields.io/badge/Mitigation-High-green></td> </tr> <tr> <td>âœ… <strong>Network Security</strong></td> <td>Complete</td> <td>Private Link, NSG, Managed VNet</td> <td><img alt=High src=https://img.shields.io/badge/Mitigation-High-green></td> </tr> <tr> <td>âœ… <strong>Monitoring &amp; Audit</strong></td> <td>Complete</td> <td>Logging, SIEM, Threat Detection</td> <td><img alt=Medium src=https://img.shields.io/badge/Mitigation-Medium-yellow></td> </tr> <tr> <td>âœ… <strong>Governance</strong></td> <td>Complete</td> <td>Policies, Compliance, Lineage</td> <td><img alt=Medium src=https://img.shields.io/badge/Mitigation-Medium-yellow></td> </tr> </tbody> </table> <h3 id=continuous-security-improvement>ğŸ”„ Continuous Security Improvement<a class=headerlink href=#continuous-security-improvement title="Permanent link">&para;</a></h3> <p><img alt="Security continuous improvement cycle diagram showing threat assessment, control implementation, monitoring, and compliance validation phases" src=../../images/diagrams/best-practices-security-diagram-1.png></p> <h3 id=additional-resources>ğŸ“š Additional Resources<a class=headerlink href=#additional-resources title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Resource Type</th> <th>Description</th> <th>Link</th> </tr> </thead> <tbody> <tr> <td>ğŸ“š <strong>Official Documentation</strong></td> <td>Microsoft's comprehensive security guidance</td> <td><a href=https://learn.microsoft.com/en-us/azure/synapse-analytics/security/overview><img alt="Security Docs" src=https://img.shields.io/badge/Microsoft-Security_Docs-blue></a></td> </tr> <tr> <td>ğŸ“‹ <strong>Security Checklist</strong></td> <td>Detailed security implementation checklist</td> <td><a href=../../reference/security-checklist/ >Security Checklist</a></td> </tr> <tr> <td>ğŸ”§ <strong>Troubleshooting</strong></td> <td>Security issue resolution procedures</td> <td><a href=../troubleshooting/security-troubleshooting.md>Security Troubleshooting</a></td> </tr> </tbody> </table> <hr> <blockquote> <p>ğŸ”’ <strong>Security is a Journey</strong> Security is not a one-time implementation but an ongoing process of continuous improvement. Regular reviews, updates, and adaptations to emerging threats ensure your Azure Synapse Analytics environment remains secure and compliant.</p> <p>ğŸš€ <strong>Next Steps</strong> Ready to implement these security controls? Start with our <a href=../../reference/security-checklist/ >security implementation checklist</a> and <a href=../troubleshooting/security-troubleshooting.md>security troubleshooting guide</a>.</p> </blockquote> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by <a href="https://github.com/fgarofalo56/csa-inabox-docs/issues/new?title=[Feedback]+Security%20Best%20Practices%20for%20Azure%20Synapse%20Analytics+-+/best-practices/security/" target=_blank rel=noopener>opening an issue</a>. </div> </div> </div> </fieldset> </form> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 Microsoft </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/fgarofalo56/csa-inabox-docs target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://azure.microsoft.com/en-us/services/synapse-analytics/ target=_blank rel=noopener title=azure.microsoft.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 32h214.6v214.6H0V32zm233.4 0H448v214.6H233.4V32zM0 265.4h214.6V480H0V265.4zm233.4 0H448V480H233.4V265.4z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> <button type=reset class="md-button md-button--primary">Reject</button> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.sections", "toc.integrate", "content.tabs.link", "navigation.indexes", "navigation.top", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.aecac24b.min.js></script> </body> </html>