<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Analytics Architecture - Visual Diagrams</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.95;
        }
        
        .diagram-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .diagram-title {
            color: #333;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        .diagram-container {
            width: 100%;
            overflow-x: auto;
            padding: 20px 0;
        }
        
        svg {
            display: block;
            margin: 0 auto;
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20නpx;
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 30px;
            height: 20px;
            border-radius: 4px;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 10px 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }
        
        .tab:hover {
            background: #764ba2;
            transform: translateY(-2px);
        }
        
        .tab.active {
            background: #764ba2;
        }
        
        .diagram-content {
            display: none;
        }
        
        .diagram-content.active {
            display: block;
        }
        
        /* Animation classes */
        .animate-flow {
            animation: flowAnimation 3s infinite;
        }
        
        @keyframes flowAnimation {
            0% { stroke-dashoffset: 0; }
            100% { stroke-dashoffset: -30; }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚀 Azure Real-Time Analytics Architecture</h1>
            <p>Comprehensive Visual Architecture & Process Flow Diagrams</p>
        </div>

        <!-- High-Level Architecture -->
        <div class="diagram-section">
            <h2 class="diagram-title">📊 High-Level Solution Architecture</h2>
            <div class="diagram-container">
                <svg width="1200" height="700" viewBox="0 0 1200 700">
                    <!-- Background zones -->
                    <rect x="10" y="10" width="280" height="680" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="10"/>
                    <rect x="300" y="10" width="280" height="680" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="10"/>
                    <rect x="590" y="10" width="280" height="680" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="10"/>
                    <rect x="880" y="10" width="300" height="680" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="10"/>
                    
                    <!-- Zone labels -->
                    <text x="150" y="35" font-size="18" font-weight="bold" fill="#1976d2">Data Sources</text>
                    <text x="440" y="35" font-size="18" font-weight="bold" fill="#7b1fa2">Ingestion & Stream</text>
                    <text x="730" y="35" font-size="18" font-weight="bold" fill="#388e3c">Processing & Storage</text>
                    <text x="1030" y="35" font-size="18" font-weight="bold" fill="#f57c00">Consumption</text>
                    
                    <!-- Confluent Cloud -->
                    <rect x="30" y="60" width="240" height="120" fill="#ff6f00" rx="10"/>
                    <text x="150" y="90" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Confluent Cloud</text>
                    <text x="150" y="115" font-size="14" fill="white" text-anchor="middle">Kafka Topics</text>
                    <text x="150" y="135" font-size="14" fill="white" text-anchor="middle">Schema Registry</text>
                    <text x="150" y="155" font-size="14" fill="white" text-anchor="middle">ksqlDB</text>
                    
                    <!-- Event Hubs -->
                    <rect x="320" y="60" width="240" height="100" fill="#0078d4" rx="10"/>
                    <text x="440" y="90" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Azure Event Hubs</text>
                    <text x="440" y="115" font-size="14" fill="white" text-anchor="middle">Kafka Protocol</text>
                    <text x="440" y="135" font-size="14" fill="white" text-anchor="middle">Auto-scale</text>
                    
                    <!-- Stream Analytics -->
                    <rect x="320" y="180" width="240" height="100" fill="#59b4d1" rx="10"/>
                    <text x="440" y="210" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Azure Stream Analytics</text>
                    <text x="440" y="235" font-size="14" fill="white" text-anchor="middle">Real-time Processing</text>
                    <text x="440" y="255" font-size="14" fill="white" text-anchor="middle">Windowing & Aggregation</text>
                    
                    <!-- Databricks -->
                    <rect x="610" y="60" width="240" height="150" fill="#ff3621" rx="10"/>
                    <text x="730" y="90" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Azure Databricks</text>
                    <text x="730" y="115" font-size="14" fill="white" text-anchor="middle">Structured Streaming</text>
                    <text x="730" y="135" font-size="14" fill="white" text-anchor="middle">Delta Lake</text>
                    <text x="730" y="155" font-size="14" fill="white" text-anchor="middle">Unity Catalog</text>
                    <text x="730" y="175" font-size="14" fill="white" text-anchor="middle">MLflow</text>
                    <text x="730" y="195" font-size="14" fill="white" text-anchor="middle">Auto Loader</text>
                    
                    <!-- Delta Lake Layers -->
                    <rect x="610" y="230" width="240" height="80" fill="#00897b" rx="10"/>
                    <text x="730" y="255" font-size="15" font-weight="bold" fill="white" text-anchor="middle">Bronze Layer</text>
                    <text x="730" y="275" font-size="13" fill="white" text-anchor="middle">Raw Data Ingestion</text>
                    <text x="730" y="295" font-size="13" fill="white" text-anchor="middle">Schema Evolution</text>
                    
                    <rect x="610" y="330" width="240" height="80" fill="#00acc1" rx="10"/>
                    <text x="730" y="355" font-size="15" font-weight="bold" fill="white" text-anchor="middle">Silver Layer</text>
                    <text x="730" y="375" font-size="13" fill="white" text-anchor="middle">Cleansed & Validated</text>
                    <text x="730" y="395" font-size="13" fill="white" text-anchor="middle">AI Enriched</text>
                    
                    <rect x="610" y="430" width="240" height="80" fill="#039be5" rx="10"/>
                    <text x="730" y="455" font-size="15" font-weight="bold" fill="white" text-anchor="middle">Gold Layer</text>
                    <text x="730" y="475" font-size="13" fill="white" text-anchor="middle">Business Aggregations</text>
                    <text x="730" y="495" font-size="13" fill="white" text-anchor="middle">Optimized for BI</text>
                    
                    <!-- AI Services -->
                    <rect x="610" y="530" width="240" height="80" fill="#673ab7" rx="10"/>
                    <text x="730" y="555" font-size="15" font-weight="bold" fill="white" text-anchor="middle">Azure AI Services</text>
                    <text x="730" y="575" font-size="13" fill="white" text-anchor="middle">Cognitive Services</text>
                    <text x="730" y="595" font-size="13" fill="white" text-anchor="middle">Azure OpenAI</text>
                    
                    <!-- Power BI -->
                    <rect x="900" y="60" width="260" height="100" fill="#f2c811" rx="10"/>
                    <text x="1030" y="90" font-size="16" font-weight="bold" fill="black" text-anchor="middle">Power BI</text>
                    <text x="1030" y="115" font-size="14" fill="black" text-anchor="middle">Direct Lake Mode</text>
                    <text x="1030" y="135" font-size="14" fill="black" text-anchor="middle">Real-time Dashboards</text>
                    
                    <!-- Dataverse -->
                    <rect x="900" y="180" width="260" height="100" fill="#742774" rx="10"/>
                    <text x="1030" y="210" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Microsoft Dataverse</text>
                    <text x="1030" y="235" font-size="14" fill="white" text-anchor="middle">Virtual Tables</text>
                    <text x="1030" y="255" font-size="14" fill="white" text-anchor="middle">Business Apps</text>
                    
                    <!-- Power Platform -->
                    <rect x="900" y="300" width="260" height="100" fill="#008272" rx="10"/>
                    <text x="1030" y="330" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Power Platform</text>
                    <text x="1030" y="355" font-size="14" fill="white" text-anchor="middle">Power Apps</text>
                    <text x="1030" y="375" font-size="14" fill="white" text-anchor="middle">Power Automate</text>
                    
                    <!-- Azure OpenAI Chat -->
                    <rect x="900" y="420" width="260" height="100" fill="#1a1a1a" rx="10"/>
                    <text x="1030" y="450" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Azure OpenAI</text>
                    <text x="1030" y="475" font-size="14" fill="white" text-anchor="middle">Chat Interface</text>
                    <text x="1030" y="495" font-size="14" fill="white" text-anchor="middle">LangChain Integration</text>
                    
                    <!-- Data Flow Arrows -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
                        </marker>
                    </defs>
                    
                    <!-- Flow lines -->
                    <path d="M 270 120 L 320 120" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="animate-flow" stroke-dasharray="5,5"/>
                    <path d="M 560 110 L 610 110" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="animate-flow" stroke-dasharray="5,5"/>
                    <path d="M 560 230 L 610 270" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="animate-flow" stroke-dasharray="5,5"/>
                    <path d="M 850 135 L 900 110" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 850 270 L 900 230" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 850 370 L 900 350" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 850 470 L 900 470" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    
                    <!-- Bidirectional AI Services -->
                    <path d="M 730 410 L 730 530" stroke="#673ab7" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 740 530 L 740 410" stroke="#673ab7" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                </svg>
            </div>
            
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #ff6f00;"></div>
                    <span>Data Sources</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #0078d4;"></div>
                    <span>Azure Services</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ff3621;"></div>
                    <span>Databricks</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #00acc1;"></div>
                    <span>Delta Lake</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #673ab7;"></div>
                    <span>AI/ML Services</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f2c811;"></div>
                    <span>Visualization</span>
                </div>
            </div>
        </div>

        <!-- Data Flow Process -->
        <div class="diagram-section">
            <h2 class="diagram-title">🔄 End-to-End Data Flow Process</h2>
            <div class="tabs">
                <button class="tab active" onclick="showTab('flow1')">Streaming Pipeline</button>
                <button class="tab" onclick="showTab('flow2')">AI Enrichment Flow</button>
                <button class="tab" onclick="showTab('flow3')">Auto-Onboarding Process</button>
            </div>
            
            <!-- Streaming Pipeline -->
            <div id="flow1" class="diagram-content active">
                <svg width="1200" height="500" viewBox="0 0 1200 500">
                    <!-- Process boxes -->
                    <g class="pulse">
                        <rect x="20" y="200" width="140" height="100" fill="#ff6f00" rx="10"/>
                        <text x="90" y="235" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Kafka Topic</text>
                        <text x="90" y="255" font-size="12" fill="white" text-anchor="middle">Event Stream</text>
                        <text x="90" y="275" font-size="12" fill="white" text-anchor="middle">Schema Registry</text>
                    </g>
                    
                    <rect x="200" y="200" width="140" height="100" fill="#0078d4" rx="10"/>
                    <text x="270" y="235" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Stream Ingestion</text>
                    <text x="270" y="255" font-size="12" fill="white" text-anchor="middle">Schema Validation</text>
                    <text x="270" y="275" font-size="12" fill="white" text-anchor="middle">Deduplication</text>
                    
                    <rect x="380" y="200" width="140" height="100" fill="#00897b" rx="10"/>
                    <text x="450" y="235" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Bronze Layer</text>
                    <text x="450" y="255" font-size="12" fill="white" text-anchor="middle">Raw Storage</text>
                    <text x="450" y="275" font-size="12" fill="white" text-anchor="middle">Partitioned</text>
                    
                    <rect x="560" y="200" width="140" height="100" fill="#00acc1" rx="10"/>
                    <text x="630" y="235" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Silver Layer</text>
                    <text x="630" y="255" font-size="12" fill="white" text-anchor="middle">Cleansed</text>
                    <text x="630" y="275" font-size="12" fill="white" text-anchor="middle">Enriched</text>
                    
                    <rect x="740" y="200" width="140" height="100" fill="#039be5" rx="10"/>
                    <text x="810" y="235" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Gold Layer</text>
                    <text x="810" y="255" font-size="12" fill="white" text-anchor="middle">Aggregated</text>
                    <text x="810" y="275" font-size="12" fill="white" text-anchor="middle">Business Ready</text>
                    
                    <rect x="920" y="200" width="140" height="100" fill="#f2c811" rx="10"/>
                    <text x="990" y="235" font-size="14" font-weight="bold" fill="black" text-anchor="middle">Power BI</text>
                    <text x="990" y="255" font-size="12" fill="black" text-anchor="middle">Dashboards</text>
                    <text x="990" y="275" font-size="12" fill="black" text-anchor="middle">Reports</text>
                    
                    <!-- Flow arrows with timing -->
                    <path d="M 160 250 L 200 250" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="animate-flow" stroke-dasharray="5,5"/>
                    <text x="180" y="240" font-size="11" fill="#666">~100ms</text>
                    
                    <path d="M 340 250 L 380 250" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="animate-flow" stroke-dasharray="5,5"/>
                    <text x="360" y="240" font-size="11" fill="#666">~200ms</text>
                    
                    <path d="M 520 250 L 560 250" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="animate-flow" stroke-dasharray="5,5"/>
                    <text x="540" y="240" font-size="11" fill="#666">~500ms</text>
                    
                    <path d="M 700 250 L 740 250" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="animate-flow" stroke-dasharray="5,5"/>
                    <text x="720" y="240" font-size="11" fill="#666">~1s</text>
                    
                    <path d="M 880 250 L 920 250" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="animate-flow" stroke-dasharray="5,5"/>
                    <text x="900" y="240" font-size="11" fill="#666">~2s</text>
                    
                    <!-- Metrics -->
                    <rect x="20" y="50" width="1060" height="100" fill="#f5f5f5" rx="10" stroke="#ccc" stroke-width="2"/>
                    <text x="550" y="80" font-size="16" font-weight="bold" fill="#333" text-anchor="middle">Performance Metrics</text>
                    
                    <text x="100" y="110" font-size="14" fill="#666">Throughput:</text>
                    <text x="100" y="130" font-size="14" font-weight="bold" fill="#333">1M events/sec</text>
                    
                    <text x="300" y="110" font-size="14" fill="#666">Latency:</text>
                    <text x="300" y="130" font-size="14" font-weight="bold" fill="#333">&lt; 5 seconds</text>
                    
                    <text x="500" y="110" font-size="14" fill="#666">Availability:</text>
                    <text x="500" y="130" font-size="14" font-weight="bold" fill="#333">99.99%</text>
                    
                    <text x="700" y="110" font-size="14" fill="#666">Data Quality:</text>
                    <text x="700" y="130" font-size="14" font-weight="bold" fill="#333">99.5%</text>
                    
                    <text x="900" y="110" font-size="14" fill="#666">Auto-scaling:</text>
                    <text x="900" y="130" font-size="14" font-weight="bold" fill="#333">Dynamic</text>
                    
                    <!-- Processing details -->
                    <rect x="200" y="350" width="800" height="100" fill="#e8f5e9" rx="10" stroke="#4caf50" stroke-width="2"/>
                    <text x="600" y="380" font-size="14" font-weight="bold" fill="#2e7d32" text-anchor="middle">Processing Details</text>
                    <text x="250" y="410" font-size="12" fill="#333">• Watermarking: 1 minute</text>
                    <text x="250" y="430" font-size="12" fill="#333">• Checkpointing: Every 10 seconds</text>
                    <text x="550" y="410" font-size="12" fill="#333">• Partitioning: By date/hour</text>
                    <text x="550" y="430" font-size="12" fill="#333">• Compression: Snappy</text>
                    <text x="800" y="410" font-size="12" fill="#333">• Optimization: Z-ORDER</text>
                    <text x="800" y="430" font-size="12" fill="#333">• Compaction: Auto</text>
                </svg>
            </div>
            
            <!-- AI Enrichment Flow -->
            <div id="flow2" class="diagram-content">
                <svg width="1200" height="500" viewBox="0 0 1200 500">
                    <!-- Input -->
                    <rect x="50" y="200" width="150" height="80" fill="#00acc1" rx="10"/>
                    <text x="125" y="230" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Silver Data</text>
                    <text x="125" y="250" font-size="12" fill="white" text-anchor="middle">Cleansed Records</text>
                    
                    <!-- AI Services -->
                    <rect x="250" y="50" width="180" height="70" fill="#673ab7" rx="10"/>
                    <text x="340" y="75" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Sentiment Analysis</text>
                    <text x="340" y="95" font-size="11" fill="white" text-anchor="middle">Positive/Negative/Neutral</text>
                    <text x="340" y="110" font-size="11" fill="white" text-anchor="middle">Confidence Score</text>
                    
                    <rect x="250" y="140" width="180" height="70" fill="#673ab7" rx="10"/>
                    <text x="340" y="165" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Entity Recognition</text>
                    <text x="340" y="185" font-size="11" fill="white" text-anchor="middle">People, Places, Orgs</text>
                    <text x="340" y="200" font-size="11" fill="white" text-anchor="middle">Custom Entities</text>
                    
                    <rect x="250" y="230" width="180" height="70" fill="#673ab7" rx="10"/>
                    <text x="340" y="255" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Key Phrase Extraction</text>
                    <text x="340" y="275" font-size="11" fill="white" text-anchor="middle">Important Topics</text>
                    <text x="340" y="290" font-size="11" fill="white" text-anchor="middle">Trending Terms</text>
                    
                    <rect x="250" y="320" width="180" height="70" fill="#673ab7" rx="10"/>
                    <text x="340" y="345" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Language Detection</text>
                    <text x="340" y="365" font-size="11" fill="white" text-anchor="middle">120+ Languages</text>
                    <text x="340" y="380" font-size="11" fill="white" text-anchor="middle">Auto-translation</text>
                    
                    <!-- ML Models -->
                    <rect x="480" y="140" width="180" height="70" fill="#ff6347" rx="10"/>
                    <text x="570" y="165" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Custom ML Models</text>
                    <text x="570" y="185" font-size="11" fill="white" text-anchor="middle">MLflow Registry</text>
                    <text x="570" y="200" font-size="11" fill="white" text-anchor="middle">AutoML Models</text>
                    
                    <rect x="480" y="230" width="180" height="70" fill="#ff6347" rx="10"/>
                    <text x="570" y="255" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Anomaly Detection</text>
                    <text x="570" y="275" font-size="11" fill="white" text-anchor="middle">Pattern Recognition</text>
                    <text x="570" y="290" font-size="11" fill="white" text-anchor="middle">Outlier Detection</text>
                    
                    <!-- Azure OpenAI -->
                    <rect x="710" y="180" width="180" height="90" fill="#1a1a1a" rx="10"/>
                    <text x="800" y="205" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Azure OpenAI</text>
                    <text x="800" y="225" font-size="11" fill="white" text-anchor="middle">GPT-4 Analysis</text>
                    <text x="800" y="245" font-size="11" fill="white" text-anchor="middle">Summarization</text>
                    <text x="800" y="260" font-size="11" fill="white" text-anchor="middle">Q&A Generation</text>
                    
                    <!-- Output -->
                    <rect x="950" y="200" width="150" height="80" fill="#039be5" rx="10"/>
                    <text x="1025" y="230" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Enriched Data</text>
                    <text x="1025" y="250" font-size="12" fill="white" text-anchor="middle">AI-Enhanced</text>
                    
                    <!-- Flow arrows -->
                    <path d="M 200 240 L 250 85" stroke="#673ab7" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 200 240 L 250 175" stroke="#673ab7" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 200 240 L 250 265" stroke="#673ab7" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 200 240 L 250 355" stroke="#673ab7" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    
                    <path d="M 430 175 L 480 175" stroke="#ff6347" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 430 265 L 480 265" stroke="#ff6347" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    
                    <path d="M 660 175 L 710 210" stroke="#1a1a1a" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 660 265 L 710 240" stroke="#1a1a1a" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    
                    <path d="M 890 225 L 950 240" stroke="#039be5" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    
                    <!-- Processing Time -->
                    <rect x="250" y="420" width="700" height="60" fill="#fff3e0" rx="10" stroke="#ff9800" stroke-width="2"/>
                    <text x="600" y="445" font-size="14" font-weight="bold" fill="#e65100" text-anchor="middle">AI Processing Performance</text>
                    <text x="350" y="465" font-size="12" fill="#333">Batch: 10K docs/min</text>
                    <text x="550" y="465" font-size="12" fill="#333">Streaming: 1K docs/sec</text>
                    <text x="750" y="465" font-size="12" fill="#333">Latency: &lt; 500ms per doc</text>
                </svg>
            </div>
            
            <!-- Auto-Onboarding Process -->
            <div id="flow3" class="diagram-content">
                <svg width="1200" height="600" viewBox="0 0 1200 600">
                    <!-- Start -->
                    <circle cx="100" cy="100" r="40" fill="#4caf50"/>
                    <text x="100" y="105" font-size="14" font-weight="bold" fill="white" text-anchor="middle">START</text>
                    
                    <!-- Schema Discovery -->
                    <rect x="200" y="60" width="160" height="80" fill="#2196f3" rx="10"/>
                    <text x="280" y="85" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Schema Discovery</text>
                    <text x="280" y="105" font-size="11" fill="white" text-anchor="middle">Poll Schema Registry</text>
                    <text x="280" y="125" font-size="11" fill="white" text-anchor="middle">Every 5 minutes</text>
                    
                    <!-- Decision -->
                    <path d="M 420 100 L 480 50 L 540 100 L 480 150 Z" fill="#ff9800"/>
                    <text x="480" y="95" font-size="12" font-weight="bold" fill="white" text-anchor="middle">New</text>
                    <text x="480" y="110" font-size="12" font-weight="bold" fill="white" text-anchor="middle">Topic?</text>
                    
                    <!-- No path - loop back -->
                    <path d="M 420 100 L 280 180 L 280 140" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="3,3"/>
                    <text x="350" y="160" font-size="11" fill="#666">No</text>
                    
                    <!-- Yes path - continue -->
                    <text x="560" y="95" font-size="11" fill="#4caf50">Yes</text>
                    
                    <!-- Create Bronze Pipeline -->
                    <rect x="600" y="60" width="160" height="80" fill="#00897b" rx="10"/>
                    <text x="680" y="85" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Create Bronze</text>
                    <text x="680" y="105" font-size="11" fill="white" text-anchor="middle">Streaming Job</text>
                    <text x="680" y="125" font-size="11" fill="white" text-anchor="middle">Delta Table</text>
                    
                    <!-- Create Silver Pipeline -->
                    <rect x="600" y="160" width="160" height="80" fill="#00acc1" rx="10"/>
                    <text x="680" y="185" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Create Silver</text>
                    <text x="680" y="205" font-size="11" fill="white" text-anchor="middle">Transformation Job</text>
                    <text x="680" y="225" font-size="11" fill="white" text-anchor="middle">AI Enrichment</text>
                    
                    <!-- Create Gold Pipeline -->
                    <rect x="600" y="260" width="160" height="80" fill="#039be5" rx="10"/>
                    <text x="680" y="285" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Create Gold</text>
                    <text x="680" y="305" font-size="11" fill="white" text-anchor="middle">Aggregation Job</text>
                    <text x="680" y="325" font-size="11" fill="white" text-anchor="middle">Business Logic</text>
                    
                    <!-- Register in Unity Catalog -->
                    <rect x="820" y="60" width="160" height="80" fill="#9c27b0" rx="10"/>
                    <text x="900" y="85" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Unity Catalog</text>
                    <text x="900" y="105" font-size="11" fill="white" text-anchor="middle">Register Tables</text>
                    <text x="900" y="125" font-size="11" fill="white" text-anchor="middle">Set Permissions</text>
                    
                    <!-- Create Power BI Dataset -->
                    <rect x="820" y="160" width="160" height="80" fill="#f2c811" rx="10"/>
                    <text x="900" y="185" font-size="13" font-weight="bold" fill="black" text-anchor="middle">Power BI</text>
                    <text x="900" y="205" font-size="11" fill="black" text-anchor="middle">Create Dataset</text>
                    <text x="900" y="225" font-size="11" fill="black" text-anchor="middle">Direct Lake Mode</text>
                    
                    <!-- Create Dataverse Table -->
                    <rect x="820" y="260" width="160" height="80" fill="#742774" rx="10"/>
                    <text x="900" y="285" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Dataverse</text>
                    <text x="900" y="305" font-size="11" fill="white" text-anchor="middle">Virtual Table</text>
                    <text x="900" y="325" font-size="11" fill="white" text-anchor="middle">Business Apps</text>
                    
                    <!-- Notification -->
                    <rect x="820" y="360" width="160" height="80" fill="#4caf50" rx="10"/>
                    <text x="900" y="385" font-size="13" font-weight="bold" fill="white" text-anchor="middle">Notify Team</text>
                    <text x="900" y="405" font-size="11" fill="white" text-anchor="middle">Email/Teams</text>
                    <text x="900" y="425" font-size="11" fill="white" text-anchor="middle">Success Status</text>
                    
                    <!-- End -->
                    <circle cx="1080" cy="400" r="40" fill="#f44336"/>
                    <text x="1080" y="405" font-size="14" font-weight="bold" fill="white" text-anchor="middle">END</text>
                    
                    <!-- Flow arrows -->
                    <path d="M 140 100 L 200 100" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 360 100 L 420 100" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 540 100 L 600 100" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 680 140 L 680 160" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 680 240 L 680 260" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 760 100 L 820 100" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 900 140 L 900 160" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 900 240 L 900 260" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 900 340 L 900 360" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 980 400 L 1040 400" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
                    
                    <!-- Time indicators -->
                    <text x="280" y="40" font-size="11" fill="#666">~30 sec</text>
                    <text x="680" y="40" font-size="11" fill="#666">~1 min</text>
                    <text x="900" y="40" font-size="11" fill="#666">~30 sec</text>
                    
                    <!-- Summary Box -->
                    <rect x="200" y="480" width="800" height="80" fill="#e1f5fe" rx="10" stroke="#0277bd" stroke-width="2"/>
                    <text x="600" y="505" font-size="14" font-weight="bold" fill="#01579b" text-anchor="middle">Auto-Onboarding Metrics</text>
                    <text x="300" y="530" font-size="12" fill="#333">Total Time: &lt; 5 minutes</text>
                    <text x="500" y="530" font-size="12" fill="#333">Success Rate: 99.5%</text>
                    <text x="700" y="530" font-size="12" fill="#333">Manual Effort: 0 hours</text>
                    <text x="300" y="550" font-size="12" fill="#333">Topics/Day: 100+</text>
                    <text x="500" y="550" font-size="12" fill="#333">Parallel Processing: Yes</text>
                    <text x="700" y="550" font-size="12" fill="#333">Rollback: Automated</text>
                </svg>
            </div>
        </div>

        <!-- Network Architecture -->
        <div class="diagram-section">
            <h2 class="diagram-title">🔒 Network & Security Architecture</h2>
            <div class="diagram-container">
                <svg width="1200" height="600" viewBox="0 0 1200 600">
                    <!-- Internet Zone -->
                    <rect x="20" y="20" width="1160" height="100" fill="#ffebee" stroke="#c62828" stroke-width="2" rx="10" stroke-dasharray="5,5"/>
                    <text x="600" y="50" font-size="16" font-weight="bold" fill="#c62828" text-anchor="middle">Internet / Public Cloud</text>
                    
                    <rect x="100" y="60" width="150" height="40" fill="#ff6f00" rx="5"/>
                    <text x="175" y="85" font-size="12" fill="white" text-anchor="middle">Confluent Cloud</text>
                    
                    <rect x="950" y="60" width="150" height="40" fill="#333" rx="5"/>
                    <text x="1025" y="85" font-size="12" fill="white" text-anchor="middle">User Access</text>
                    
                    <!-- Azure Front Door / API Management -->
                    <rect x="400" y="150" width="400" height="60" fill="#0078d4" rx="10"/>
                    <text x="600" y="175" font-size="14" font-weight="bold" fill="white" text-anchor="middle">Azure Front Door / API Management</text>
                    <text x="600" y="195" font-size="11" fill="white" text-anchor="middle">WAF | DDoS Protection | SSL Termination</text>
                    
                    <!-- VNet -->
                    <rect x="50" y="240" width="1100" height="330" fill="#e3f2fd" stroke="#1565c0" stroke-width="3" rx="15"/>
                    <text x="600" y="265" font-size="16" font-weight="bold" fill="#1565c0" text-anchor="middle">Azure Virtual Network (VNet)</text>
                    
                    <!-- Subnets -->
                    <rect x="80" y="290" width="320" height="250" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="10"/>
                    <text x="240" y="315" font-size="14" font-weight="bold" fill="#0d47a1" text-anchor="middle">Data Ingestion Subnet</text>
                    
                    <rect x="90" y="340" width="140" height="60" fill="#0078d4" rx="5"/>
                    <text x="160" y="365" font-size="11" fill="white" text-anchor="middle">Event Hubs</text>
                    <text x="160" y="380" font-size="10" fill="white" text-anchor="middle">Private Endpoint</text>
                    
                    <rect x="250" y="340" width="140" height="60" fill="#59b4d1" rx="5"/>
                    <text x="320" y="365" font-size="11" fill="white" text-anchor="middle">Stream Analytics</text>
                    <text x="320" y="380" font-size="10" fill="white" text-anchor="middle">Managed VNet</text>
                    
                    <!-- Processing Subnet -->
                    <rect x="430" y="290" width="320" height="250" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="10"/>
                    <text x="590" y="315" font-size="14" font-weight="bold" fill="#1b5e20" text-anchor="middle">Processing Subnet</text>
                    
                    <rect x="440" y="340" width="300" height="80" fill="#ff3621" rx="5"/>
                    <text x="590" y="365" font-size="12" fill="white" text-anchor="middle">Azure Databricks</text>
                    <text x="590" y="385" font-size="10" fill="white" text-anchor="middle">VNet Injection</text>
                    <text x="590" y="400" font-size="10" fill="white" text-anchor="middle">Public Subnet | Private Subnet</text>
                    
                    <rect x="440" y="440" width="140" height="60" fill="#00897b" rx="5"/>
                    <text x="510" y="465" font-size="11" fill="white" text-anchor="middle">Storage Account</text>
                    <text x="510" y="480" font-size="10" fill="white" text-anchor="middle">Private Endpoint</text>
                    
                    <rect x="600" y="440" width="140" height="60" fill="#673ab7" rx="5"/>
                    <text x="670" y="465" font-size="11" fill="white" text-anchor="middle">AI Services</text>
                    <text x="670" y="480" font-size="10" fill="white" text-anchor="middle">Private Endpoint</text>
                    
                    <!-- Consumption Subnet -->
                    <rect x="780" y="290" width="340" height="250" fill="#fff9c4" stroke="#f57f17" stroke-width="2" rx="10"/>
                    <text x="950" y="315" font-size="14" font-weight="bold" fill="#f57f17" text-anchor="middle">Consumption Subnet</text>
                    
                    <rect x="790" y="340" width="140" height="60" fill="#f2c811" rx="5"/>
                    <text x="860" y="365" font-size="11" fill="black" text-anchor="middle">Power BI Gateway</text>
                    <text x="860" y="380" font-size="10" fill="black" text-anchor="middle">On-premises Data GW</text>
                    
                    <rect x="970" y="340" width="140" height="60" fill="#742774" rx="5"/>
                    <text x="1040" y="365" font-size="11" fill="white" text-anchor="middle">Dataverse</text>
                    <text x="1040" y="380" font-size="10" fill="white" text-anchor="middle">Service Endpoint</text>
                    
                    <rect x="790" y="440" width="140" height="60" fill="#1a1a1a" rx="5"/>
                    <text x="860" y="465" font-size="11" fill="white" text-anchor="middle">Azure OpenAI</text>
                    <text x="860" y="480" font-size="10" fill="white" text-anchor="middle">Private Endpoint</text>
                    
                    <rect x="970" y="440" width="140" height="60" fill="#008272" rx="5"/>
                    <text x="1040" y="465" font-size="11" fill="white" text-anchor="middle">Power Platform</text>
                    <text x="1040" y="480" font-size="10" fill="white" text-anchor="middle">Connector</text>
                    
                    <!-- Security Services -->
                    <rect x="200" y="140" width="150" height="40" fill="#d32f2f" rx="5"/>
                    <text x="275" y="165" font-size="11" fill="white" text-anchor="middle">Azure Firewall</text>
                    
                    <rect x="850" y="140" width="150" height="40" fill="#7b1fa2" rx="5"/>
                    <text x="925" y="165" font-size="11" fill="white" text-anchor="middle">Key Vault</text>
                    
                    <!-- Network flows -->
                    <path d="M 175 100 L 275 140" stroke="#ff6f00" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 275 180 L 160 340" stroke="#0078d4" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 320 400 L 510 440" stroke="#00897b" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 590 420 L 590 440" stroke="#ff3621" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    <path d="M 740 380 L 790 380" stroke="#f2c811" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
                    
                    <text x="400" y="590" font-size="12" fill="#666">🔒 All traffic encrypted with TLS 1.3</text>
                    <text x="700" y="590" font-size="12" fill="#666">🛡️ NSG rules applied at subnet level</text>
                </svg>
            </div>
        </div>

        <!-- Cost Optimization View -->
        <div class="diagram-section">
            <h2 class="diagram-title">💰 Cost Optimization Strategy</h2>
            <div class="diagram-container">
                <svg width="1200" height="400" viewBox="0 0 1200 400">
                    <!-- Cost breakdown pie chart -->
                    <circle cx="200" cy="200" r="150" fill="#f5f5f5" stroke="#333" stroke-width="2"/>
                    
                    <!-- Pie segments -->
                    <path d="M 200 200 L 200 50 A 150 150 0 0 1 320 110 Z" fill="#ff3621"/>
                    <path d="M 200 200 L 320 110 A 150 150 0 0 1 320 290 Z" fill="#0078d4"/>
                    <path d="M 200 200 L 320 290 A 150 150 0 0 1 80 290 Z" fill="#00897b"/>
                    <path d="M 200 200 L 80 290 A 150 150 0 0 1 80 110 Z" fill="#f2c811"/>
                    <path d="M 200 200 L 80 110 A 150 150 0 0 1 200 50 Z" fill="#673ab7"/>
                    
                    <text x="200" y="370" font-size="16" font-weight="bold" text-anchor="middle">Monthly Cost Distribution</text>
                    
                    <!-- Legend and optimization strategies -->
                    <rect x="450" y="50" width="700" height="300" fill="#f9f9f9" stroke="#ccc" stroke-width="2" rx="10"/>
                    
                    <text x="500" y="80" font-size="14" font-weight="bold">Component</text>
                    <text x="700" y="80" font-size="14" font-weight="bold">% of Cost</text>
                    <text x="850" y="80" font-size="14" font-weight="bold">Optimization Strategy</text>
                    
                    <rect x="470" y="100" width="20" height="15" fill="#ff3621"/>
                    <text x="500" y="112" font-size="12">Databricks</text>
                    <text x="700" y="112" font-size="12">35%</text>
                    <text x="850" y="112" font-size="12">• 70% Spot instances</text>
                    <text x="850" y="127" font-size="12">• Auto-scaling (2-8 nodes)</text>
                    <text x="850" y="142" font-size="12">• Reserved capacity discount</text>
                    
                    <rect x="470" y="160" width="20" height="15" fill="#0078d4"/>
                    <text x="500" y="172" font-size="12">Storage</text>
                    <text x="700" y="172" font-size="12">25%</text>
                    <text x="850" y="172" font-size="12">• Lifecycle policies (90 days)</text>
                    <text x="850" y="187" font-size="12">• Cool tier for old data</text>
                    <text x="850" y="202" font-size="12">• Compression (Snappy)</text>
                    
                    <rect x="470" y="220" width="20" height="15" fill="#00897b"/>
                    <text x="500" y="232" font-size="12">Streaming</text>
                    <text x="700" y="232" font-size="12">20%</text>
                    <text x="850" y="232" font-size="12">• Batch where possible</text>
                    <text x="850" y="247" font-size="12">• Optimize throughput units</text>
                    
                    <rect x="470" y="270" width="20" height="15" fill="#f2c811"/>
                    <text x="500" y="282" font-size="12">AI Services</text>
                    <text x="700" y="282" font-size="12">15%</text>
                    <text x="850" y="282" font-size="12">• Result caching</text>
                    <text x="850" y="297" font-size="12">• Batch processing</text>
                    
                    <rect x="470" y="320" width="20" height="15" fill="#673ab7"/>
                    <text x="500" y="332" font-size="12">Other</text>
                    <text x="700" y="332" font-size="12">5%</text>
                    <text x="850" y="332" font-size="12">• Optimize network egress</text>
                </svg>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabId) {
            // Hide all diagram contents
            const contents = document.querySelectorAll('.diagram-content');
            contents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected content
            document.getElementById(tabId).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }
    </script>
</body>
</html>